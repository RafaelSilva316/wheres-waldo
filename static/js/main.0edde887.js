/*! For license information please see main.0edde887.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,S=60107,T=60108,I=60114,A=60109,_=60110,C=60112,N=60113,D=60120,P=60115,R=60116,L=60121,O=60128,F=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),x=j("react.portal"),S=j("react.fragment"),T=j("react.strict_mode"),I=j("react.profiler"),A=j("react.provider"),_=j("react.context"),C=j("react.forward_ref"),N=j("react.suspense"),D=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),L=j("react.block"),j("react.scope"),O=j("react.opaque.id"),F=j("react.debug_trace_mode"),M=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Q(e.type);case L:return Q(e._render);case R:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,_e=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ae(e.stateNode,e.type,t))}}function De(e){_e?Ce?Ce.push(e):Ce=[e]:_e=e}function Pe(){if(_e){var e=_e,t=Ce;if(Ce=_e=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Fe=Re,Me=!1,Ue=!1;function je(){null===_e&&null===Ce||(Oe(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Qe=null,Ge={onError:function(e){Ke=!0,He=e}};function Xe(e,t,n,r,i,a,o,u,s){Ke=!1,He=null,qe.apply(Ge,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},It={};function At(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var _t=At("animationend"),Ct=At("animationiteration"),Nt=At("animationstart"),Dt=At("transitionend"),Pt=new Map,Rt=new Map,Lt=["abort","abort",_t,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Ft=8;function Mt(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Ft=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Ft):0!==(u&=a)&&(r=Mt(u),i=Ft)}else 0!==(a=n&~o)?(r=Mt(a),i=Ft):0!==u&&(r=Mt(u),i=Ft);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Ft)return t;Ft=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Qt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Xt=!0;function Jt(e,t,n,r){Me||Oe();var i=Zt,a=Me;Me=!0;try{Le(i,e,t,n,r)}finally{(Me=a)||je()}}function Yt(e,t,n,r){Gt(Qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Or(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Or(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(bn),xn=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function _n(){return An}var Cn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Cn),Dn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Ln),Fn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){De(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Jn=null;function Yn(e){Cr(e,0)}function Zn(e){if(Y(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",ar),Jn=Xn=null)}function ar(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Gn(t,Jn,e,Ie(e)),e=Yn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,Er=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Lt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Rt.set(Sr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Xe.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=He;Ke=!1,He=null,We||(We=!0,Qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;_r(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;_r(i,u,c),a=s}}}if(We)throw e=Qe,We=!1,Qe=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Ar.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Lr(a,e,i,t),o.add(u))}function Lr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Yt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Fe(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case _t:case Ct:case Nt:s=wn;break;case Dt:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Fr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=$n;else if(Qn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Gn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Qn(m)||"true"===m.contentEditable)&&(kr=m,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Yr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Yr,$r="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Zr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Q(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Si=null,Ti=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,_i=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Oi=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ci?Ci:function(){},ji=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Ki(){switch(Di()){case Pi:return 99;case Ri:return 98;case Li:return 97;case Oi:return 96;case Fi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Li;case 96:return Oi;case 95:return Fi;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Ti(e,t)}function Qi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ai(e)}Xi()}function Xi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Pi,Gi),n}finally{Bi=!1}}}var Ji=b.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Qs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Js(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Qs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Ys(t,e.mode,n)).return=e,t}if(Ea(t)||z(t))return(t=Gs(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(Ea(n)||z(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case E:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Gs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Qs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ys(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Js(a,e.mode,s)).return=e,e=r),u(e);if(Ea(a))return v(e,r,a,s);if(z(a))return y(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(e.type)||"Component"))}return n(e,r)}}var Ia=Ta(!0),Aa=Ta(!1),_a={},Ca=ci(_a),Na=ci(_a),Da=ci(_a);function Pa(e){if(e===_a)throw Error(o(174));return e}function Ra(e,t){switch(fi(Da,t),fi(Na,e),fi(Ca,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),fi(Ca,t)}function La(){li(Ca),li(Na),li(Da)}function Oa(e){Pa(Da.current);var t=Pa(Ca.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Ca,n))}function Fa(e){Na.current===e&&(li(Ca),li(Na))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function za(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Gr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);za(ja,n)}ja=e,Va=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Wa(e){if(e!==ja)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Gr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Gr(e.stateNode.nextSibling):null;return!0}function Qa(){Va=ja=null,Ba=!1}var Ga=[];function Xa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ja=b.ReactCurrentDispatcher,Ya=b.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Ro:Lo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Oo,e=n(r,i)}while(ro)}if(Ja.current=Po,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ja.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Do.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,$a,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();$a.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}$a.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function Eo(e,t){return wo(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)}function Ao(){}function _o(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Ao,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return Eo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,mo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:_o,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:So,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:_o,useContext:oa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:So,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Ao,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Fo=b.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ko(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Es(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Es(t,e),null;t.memoizedState={baseLanes:0},Es(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Es(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),au(e,t,a);r=t.stateNode,Fo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Qo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Go,Xo,Jo,Yo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Xs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xs(t,i,0,null),n=Gs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Gs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return La(),li(pi),li(di),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fa(t);var a=Pa(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zr]=t,r[$r]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Se(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":J(r),re(r,u,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Go(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?Ee(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Da.current),Pa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ru,Ou))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),li(pi),li(di),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Fa(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return La(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Ca.current);var o,u=null;switch(n){case"input":a=$(e,a),r=$(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===O?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ju||(Ju=!0,Yu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Qr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ms(n,e),Fs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ms(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Tu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function Eu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Su(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Tu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?Ee(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Au(t);case 19:return void Au(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Au(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _u(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cu=Math.ceil,Nu=b.ReactCurrentDispatcher,Du=b.ReactCurrentOwner,Pu=0,Ru=null,Lu=null,Ou=0,Fu=0,Mu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,zu=0,qu=0,Ku=null,Hu=0,Wu=1/0;function Qu(){Wu=qi()+500}var Gu,Xu=null,Ju=!1,Yu=null,Zu=null,$u=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Ji.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ru&&(zu|=t,4===Uu&&gs(e,Ou));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Qu(),Gi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Ft;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Ou:0),t=Ft,0===r)null!==n&&(n!==Mi&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ai(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ii(Pi,Xi)):ji.push(n),n=Mi):14===t?n=Qi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Qi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Os()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Ou:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Is();for(Ru===e&&Ou===r||(Qu(),Ss(e,r));;)try{Cs();break}catch(s){Ts(e,s)}if(na(),Nu.current=a,Pu=i,null!==Lu?r=0:(Ru=null,Ou=0,r=Uu),0!==(Vu&zu))Ss(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=jt(e))&&(r=As(e,n))),1===r)throw t=ju,Ss(e,0),gs(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cu(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Os(),e===Ru&&0!==(e.expiredLanes&Ou)){var t=Ou,n=As(e,t);0!==(Vu&zu)&&(n=As(e,t=Ut(e,t)))}else n=As(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(t=jt(e))&&(n=As(e,t))),1===n)throw n=ju,Ss(e,0),gs(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function ws(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Qu(),Gi())}}function bs(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Qu(),Gi())}}function Es(e,t){fi(Mu,Fu),Fu|=t,Vu|=t}function xs(){Fu=Mu.current,li(Mu)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:La(),li(pi),li(di),Xa();break;case 5:Fa(r);break;case 4:La();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Ru=e,Lu=Ws(e.current,null),Ou=Fu=Vu=t,Uu=0,ju=null,qu=zu=Bu=0}function Ts(e,t){for(;;){var n=Lu;try{if(na(),Ja.current=Po,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Du.current=null,null===n||null===n.return){Uu=1,ju=t,Lu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Ou,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=Bs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((Q(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Zu||!Zu.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(x){t=x,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function Is(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function As(e,t){var n=Pu;Pu|=16;var r=Is();for(Ru===e&&Ou===t||Ss(e,t);;)try{_s();break}catch(i){Ts(e,i)}if(na(),Pu=n,Nu.current=r,null!==Lu)throw Error(o(261));return Ru=null,Ou=0,Uu}function _s(){for(;null!==Lu;)Ns(Lu)}function Cs(){for(;null!==Lu&&!_i();)Ns(Lu)}function Ns(e){var t=Gu(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Lu=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Fu)))return void(Lu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Lu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Wi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Os()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Lu=Ru=null,Ou=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Du.current=null,Br=Xt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Xt=!1,ls=null,fs=!1,Xu=r;do{try{Ls()}catch(I){if(null===Xu)throw Error(o(330));Vs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);ls=null,Xu=r;do{try{for(u=e;null!==Xu;){var k=Xu.flags;if(16&k&&ge(Xu.stateNode,""),128&k){var w=Xu.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:Eu(Xu),Xu.flags&=-3;break;case 6:Eu(Xu),Xu.flags&=-3,Iu(Xu.alternate,Xu);break;case 1024:Xu.flags&=-1025;break;case 1028:Xu.flags&=-1025,Iu(Xu.alternate,Xu);break;case 4:Iu(Xu.alternate,Xu);break;case 8:Tu(u,s=Xu);var E=s.alternate;wu(s),null!==E&&wu(E)}Xu=Xu.nextEffect}}catch(I){if(null===Xu)throw Error(o(330));Vs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);if(b=zr,w=yr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,E=Math.min(u.start,s),u=void 0===u.end?E:Math.min(u.end,s),!b.extend&&E>u&&(s=u,u=E,E=s),s=pr(k,E),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),E>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Xt=!!Br,zr=Br=null,e.current=n,Xu=r;do{try{for(k=e;null!==Xu;){var x=Xu.flags;if(36&x&&mu(k,Xu.alternate,Xu),128&x){w=void 0;var S=Xu.ref;if(null!==S){var T=Xu.stateNode;Xu.tag,w=T,"function"===typeof S?S(w):S.current=w}}Xu=Xu.nextEffect}}catch(I){if(null===Xu)throw Error(o(330));Vs(Xu,I),Xu=Xu.nextEffect}}while(null!==Xu);Xu=null,Ui(),Pu=i}else e.current=n;if($u)$u=!1,es=e,ts=t;else for(Xu=r;null!==Xu;)t=Xu.nextEffect,Xu.nextEffect=null,8&Xu.flags&&((x=Xu).sibling=null,x.stateNode=null),Xu=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,qi()),Ju)throw Ju=!1,e=Yu,Yu=null,e;return 0!==(8&Pu)||Gi(),null}function Ls(){for(;null!==Xu;){var e=Xu.alternate;fs||null===ls||(0!==(8&Xu.flags)?et(Xu,ls)&&(fs=!0):13===Xu.tag&&_u(e,Xu)&&et(Xu,ls)&&(fs=!0));var t=Xu.flags;0!==(256&t)&&yu(e,Xu),0===(512&t)||$u||($u=!0,Qi(97,(function(){return Os(),null}))),Xu=Xu.nextEffect}}function Os(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Us)}return!1}function Fs(e,t){ns.push(t,e),$u||($u=!0,Qi(97,(function(){return Os(),null})))}function Ms(e,t){rs.push(t,e),$u||($u=!0,Qi(97,(function(){return Os(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Gi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Ou&n)===n&&(4===Uu||3===Uu&&(62914560&Ou)===Ou&&500>qi()-Hu?Ss(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Gs(n.children,i,a,t);case F:u=8,i|=16;break;case T:u=8,i|=1;break;case I:return(e=Ks(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case D:return(e=Ks(19,n,t,i)).elementType=D,e.lanes=a,e;case M:return Xs(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case _:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case L:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Xs(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=M,e.lanes=n,e}function Js(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $s(e,t,null,n)}Gu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Qo(t),Qa();break;case 5:Oa(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Qa(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Gr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Aa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Qa();t=t.child}return t;case 5:return Oa(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Zo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=ws,Le=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Qu(),Gi())}},Oe=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Gi()}(),Os())},Fe=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Qu(),Gi())}};var sc={Events:[ri,ii,ai,De,Pe,Os,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Si=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Pu=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},666:function(e){e.exports=function(){for(var e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"],t=[],n=0;n<35;n++)t[n]=7===n||12===n||17===n||22===n?"-":e[Math.floor(Math.random()*e.length-1)];return t.join("")}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=A(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,n,l=r+I(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function _(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function D(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!E.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(C([])));b&&b!==n&&r.call(b,a)&&(k=b);var E=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(E,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>T(o,n))void 0!==s&&0>T(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],A=[],_=1,C=null,N=3,D=!1,P=!1,R=!1;function L(e){for(var t=x(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,E(I,t)}t=x(A)}}function O(e){if(R=!1,L(e),!P)if(null!==x(I))P=!0,n(F);else{var t=x(A);null!==t&&r(O,t.startTime-e)}}function F(e,n){P=!1,R&&(R=!1,i()),D=!0;var a=N;try{for(L(n),C=x(I);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var u=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?C.callback=u:C===x(I)&&S(I),L(n)}else S(I);C=x(I)}if(null!==C)var s=!0;else{var c=x(A);null!==c&&r(O,c.startTime-n),s=!1}return s}finally{C=null,N=a,D=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:_++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,E(A,e),null===x(I)&&e===x(A)&&(R?i():R=!0,r(O,o-u))):(e.sortIndex=s,E(I,e),P||D||(P=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},788:function(e,t,n){"use strict";e.exports=n.p+"static/media/odlaw.3cbb78e56717c0b5b511.jpg"},410:function(e,t,n){"use strict";e.exports=n.p+"static/media/search-waldo.ea7465378e1a2d9f8b4f.jpg"},538:function(e,t,n){"use strict";e.exports=n.p+"static/media/waldo.28e7c24ad4a399e2d5e4.jpg"},469:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCADjAQMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9U6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKSgBaKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKSlpKAGM23FJwM880Pjbu9BX4XeIvG3iTxn4j1DX7rxLqFzc3V3NMk01xN8nz/Js+f5K5q1b2J7OV5VXzarKlR6H7qbh60V+Mek/trfHPw7p0Gm23iy6uoLZfLSa6sxcyOPVpWOXPuaKz+tQLeUV07H7PUUUV2nhhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRSZoAPwo21z1z4+8N2cnl3PiHSrd/7kt7Ep/wDQq4XxZ+1Z8IvBdu8uq/Ebw98nWGyvUu5s/wDXKHe/6Vfs5y0SM/aQ7nrVJz6V8uN/wUd+DfmbVuddlj/57R6PMU/PFezfCn42eCfjRo76l4P8RWutQx/65I9yTRH0eJ8On4irnh61PWcDOFalU+CR6BRRRWJ0BRRRQAUUUUAFFFFABRRSUAYXi7UBonhfWr/nFrYzT/L/ALCM1fhbpUfl6bB/uV+1H7Q+pDSPgN8RLkFQ0Ph3UCm7+/8AZ32j86/IWx+EXjr7DahfBXiDY0KOn/Epm+f5P9yvMxWsj9T4EqU6VatOpOx6h8IfhT/wk/w90zU9lz/pDzn93D8vE8i8flRX1z+xF4Hh1b9l/wAF3krypJN9tcr6f6bPRWPsT52pjo88tep9c0UUV7J8cFFFFABRRRQAUUUUAFFFFABRRRQAUUUlADRgqewr8/v+ClmqeIY/EXgvR7q7u7XwBeW8weOFpEhuL/f9yZ1/2PuJ/v1+gG7oa5vxx4C0D4ieHbrQfE2l2usaRdjEtrdRb1PXDD+63+1XXhK8MLiIVZw5kcmKpSr0ZUoS5T8X4/COiR/8wy3/AOBpV610qysf+Peyt4P9yFEr7l8Sf8Ez/DEk0s3hjxr4g8ORNyllceVfwRD+4m8K+32ZzXxb4p8Mv4M+JXjHw0mtPrtlomof2el5JbpC7un+u+RP9uv1rLs1weNnyUYe+fleYZXi8HT9rVqe6Vq0vAfxAuvgn8RtF8faa7xiyuETU4YP+Xuzd/3yP/n+Cs2oL61S+s57d/uTI6V7eMw0MTRnSmjxcHiZ4bEQqwP2utrmG8tlnidZYpF3Ky87lqzXz9+w/wDEZviN+zf4XluZVbU9HR9EvQvGx7c7E/OLyn/4HXv/APDX4FUj7ObgfutOftIKY6iiioNAooooAKKKKACiiigDxD9s7Uv7L/Zf+Icq7stpph+Tr87on/s1ekGFPB/w/wAZEX9mab9/G7b5UX/2NeQft1XVtF+zrrFrdyxwW1/qOm2ssj/wp9thdz/3whrpvid8W/Cl18GfGupad4s0e5EeiXjRvDexSfP5Dlflz97/AGazUJc0pornioxhcz/2MbH+zf2Xfh1F5cg3ab52G6/PI7/+zUV0P7Ntmmnfs9/DSBg0Un/COae7pIfmDNbozA/iTRWJo9z0+iiiuoxCiiigAooooAKKKKACiiigAooooAKKKKACiiigDL1jVrfQdHvtTvX8u2sreS5mb+6iLuY/kK/FLR9SuNchutYvf+P3VrubULj/AH5nd6/VT9svxU3g/wDZf+Il/G215NMawVl7G5dbf/2rX5a2Nr9hs4Lf/niiJX6FwjR9+rWPgOK63uQok9FFFfpZ+bH0x/wTq8ef8I38WvFXgi5fZaeIrRNXst5/5eYfkmT6uj7/APtia/RUdq/FjRPGF78N/F/hvxvYI0l74fvkvNif8tofuTJ/wNN9fsnomu2fibRNP1fTJ1utP1C3S5tpk5V43UOr/lX45xHg3hcbz/zH7Bw/i1icHyfymvRRRXyp9QFFFFABRRRQAUUUUAfJn/BSS9+yfArRLf5v9N8TWcH/AI5M/wD7JX54+I5PL0HUf+uL193f8FML3/ij/h7p/wDz11x7n72PuQP/APF18FeKo3k0G6SJN7vsRET+Pe9fd5ElDLcVV/r4T4fOnzZlhaS/r3j9nPhpCNH+HHhSw8uQfZdJtIcN1G2FBz+VFdJY2qWNnDbxg+XGgVc+gFFfCH3BYooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKSgD5X/4KMXjwfs4m3G7y7zW9PhlOMhU84P83t8lfnxX6YftvR2jfst+PZbuzt75FtE2JMm8I5mRFcf7S7s1zkf/AATt+Cn9nwxf8I5eW1ysCxyT2urXaBnC43bPM2Z/CvrclzullkJUpxufLZxkssylCrCR+eVVb7VbLTU/0u7hg/33r9GLH/gnL8FLM/6RpGraku7Oy61m5H/oDrXj37L3wT8BSaPrfiiLwppk6X2uX/8AZf2qH7T9ks4ZvJhRHm3/ANz7/wB+vWxXGlKjD3KR5OE4MlWn79U+UtH8OeLfHmj3174S8JX2r6db2zzy6hND5NtsRP4N/wDrn/2Er9OP2K/D8Wg/s0+CbeDxA3ia1ltftEF0yBPJV3LfZ/8AtkxZP+AVw/xbk+IEH/CLp8P7e0dP7URNW+1bPks/4/v/APsnz1lWfwk8XeA7/U/+FZ/Ee48F6JqFy16+gz6RDf2qTN9/Zv8AnhR/7iV+eY7iWvmU71vgPvsFw/Qy2FqPxH2HnFL96vmb4b/HPx54d+JGieBvidZaVdx67vTRvEuiq8KTTIm8wzQv9x9n9zivphfSsqVWNaPNA1q0pUZcsx1FFFamYUUUUAFFFFAHyp+1Z8P7P4xfHL4OeDL+4ureykt9avbiSzKb12Qw7D83+3Xj/wAdv2MtG+F/hGw1W18Qajf3Nxrmm2SWzxou/wA65RK+i9c26n+214Utvvf2b4Iv735m6b7yGKl/a5bzdL+Fmn8+Xf8AxC0WCRU/iTzHdv0StYYzE0aFSjCfuSMZ4PD1q9KtOHvRPfqKKKyNhaKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDwn9ti0S6/Ze+IKM2z/QEkz/uTI/9K9l0i4e80myuJMb5YkdtvqVr5/8A2rr3/hO28MfBrT5PtGp+LdQhm1BY2w1ppdvMk08zf3fuIif38t6V9HD7tRH4jWXwxE9K+PP2dYf7BsvHnhJvkfw54q1KzRP+mLv50L/+P19h/wB2viKY/ES6/aU+Ndp8OvDemanFLe6aJdW1m+MFnZTfYIw+9E/eP2+5/crhxsHOFonXgp+zlK57H4g8QaZ4V0e61XWL2HTtOtE3zXUz7ERK8o8I/tTeGdavIbfxBZX3gdNQT7To114gi+zQ6nbfwTI7/J/wCsz7D8L/AA58RPs/x5+JaeJ/Fukuk8Wh3thLZaHaM6b1ZE2bLk7H++7v/uivUPGP7WPwO8WWb6MYv+FoXOPl0HSdBfUnm/3EdNh/76rz4YP3PfmdssV/JA4S68Rab8Zvj98NfD/hO8h1qDw1qP8Ab+sanp777a1VIHSFHdPk3u77NlfaPpXzb+wvbWsfwTuL23sINHm1DX9Snm0uGHyWsW+0ui27p/sIif8AAcV9JV62Fpexp2PMxM/aTHUUUV1nKFFFFABRRSUAfEXxk/aI0n4G/tpXGq61p13qNp/wh1tpTmwKGaLfdPN9xsb/APvun+K/2l/B37QXxO+Dnh/wzNfPc2/i2HU5obi3MWxIbafrn/fr5r/bs1H7d+1f4xi+b/Qbawh/8lkf/wBnqj+xVYm+/ax+HqMnmJE99NJn+AJZzbf/AB/ZXme2nz+zP06PD+F/sH+05/Hy/qfr7RRRXpn5iFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFADM4r5U/aQ/aK+Ifw18YHRNM8MRaD4XmRB/wsDULe41K2iDJ83+j26ZR0f5Qjn59te9/Fbx/Y/Cr4d+IvF2oK0ltpNo1z5SfflboiD3d9q/jXz7D8KtQ8UeF7Xxl8evihqXh8X8azN4d0/V/wCx9K09Xw6QuchpnTBG53/vfexvrCrtyxOiio35pHK/Dz9oz4CfBq21TXH8eal8QfG2sbH1PXf7JuHurt8fJCn7tUiT5Pkh3/nXrng/46aj4b8Fan45+MdxpvgLR9Qm83RdDnJ+221sF/5bfxSTP97y0T5P/QfE/DH7Kvwp+JnxAj1bwn8b9Tv5LGTz7LTdM1mG5urE8fOjS+Y6/cPz7e3+zXlv7TX7AfjvQlvPFWg67qPxHhH7y6TUN8mqxR/7Hz/vf+AbG9FNc3PVjA7YU6VWfJOVj6j8N/ta6fofwbvviT4/nt9IstU1G6k8M6TCpW9urJMJAm3Pzu7I77/uYkStb9i3dr3wpvvHF3dW95qfjXWLvXbz7O+5IGZxEluP+uaRBPwr8npLqXWHgu7u9uNUnhhSFJr2Z5nRE+RE+f7iJ/cr7a/4Jo/Fz+z9Z134ZX82Ibrfq2k72z8//LzD/wCgv/wF6ijW55++fUZjwzVwGX/XFPmP0Fu7C2vowlzBFcRj+GVA/wDOltLG3sYfLt4I4U/uxIEFWKK9M+CPnf4JkeBf2jvjF4HP7uz1Ka38X6fGR9/7Smy8P/f5E/OvoY18gftXaf4w8PfHr4U+KPAV5DbeJL611LSnhuUPlX0cSfaks3/2H2Ovs+xu1fQvwf8Ailp/xk8Aaf4j0+OS0eUtDd2E3+usrlDtmgf/AG0fINYwlrymtSPu853tFFFbGQUUUUAFJS0h6GgD8bP2q75dW/ab+I9wu35dT8n5G3fcgRP/AGSu2/4J92X279qPSZtu/wCyaReTf7nyIn/s9dnY/seax+0J4u+I/jLT/EVtpsM/jDVbZIbi1Y70Sb5H+U/5213n7Lv7Pd38Bf2tp9HvtVj1mf8A4Qhr/wA6GDyVh33iQon3zu4hevJjTnz85+r4nOMF/q7/AGfCXvn3dRS0V6x+UBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABSUtJQB4T+2tp8uqfsw+N0hEe+CK3vSk33WWG5hmZT+EZr8r/iR8RPEPxm8VTeIvFt4+oXkj/6Pa5zbWMP/ADxhX+Fa/Rj/AIKJ/ERPCfwIfw/DJsv/ABRdpYoqH5xCjCWVx+CKn/bWvzIrycXK0z9j4GymlXpTxdeH+EZBH9luYLq0d7K6hffDdWr7Hhf++jpX6CfsV/tmXni+/tfh18QLwTa6VC6TrjHH27H/ACxm/wCmw/v/AMf+/wDf/P6jzLiCaC4tLh7W9t3Sa3uoX2PDMn3HSsIT5Jn2Oe8PYbM8NN04Wqn29+3p+ynFoyX3xV8GWXkpu8zxBptsnyf9fip/6H/33/fz8ZeEfF2p+APFWieK9Cl2apo1wl7b/wBx/wC+j/7Dp8lfrR+zP8Wrf9oj4G2Gq6nDDNeSRyabrdo6fJ9oT5Jht/uuDvA9Hr8xf2gPhLL8DfjF4h8IfN/ZyP8AbNJd/wCKzm+5/wB8fOn/AACtsRD7cD4ThnGutz5JjPhkfrp8LviFpnxW8A6N4t0d9+n6tbrOiE5eJujxv/to4ZT7rXYbeMV+Zf8AwT//AGgR8O/GzfDvXLsp4d8QXG7TZGb5LW+P8GeyTf8Aoez++1fpoBxXo0Z88D86zTL6uWYueHqnz/8AtmB9D+HXh7xtHy3gvxNputybTy8PneTMn/fExqjo7p8Hf2qp7GErH4Y+Jtk9/AiEbI9XtlHnbfTzocP/ALTJXq/xo8Hn4gfCXxl4dVfMfUtJuLaFf+mpRth/77218yfEHxlPqn7Hfwo+LECPc6p4RuNH1iXy/vz7HFrcp/uvveol7sjlp+9HlPtWis3R9WtPEGk2Wo2MqT2V9FHc28y9GjdA6P8AlWlXScoUUUUAFJS1m65qS6Touo37BcWlvJMd3+whb+lAHiX7Ev8ApvwKh1Uc/wBq6zqt5vLbnb/T50+Y/wDAKPC//Ex/bV8a3Gxm/s/wdp1lvZvu77qebZ/Wrf7EdtHp/wCyz8PoVdGzYtJ8vT55nf8A9mqj8Jx9s/au+PFwyPm0g8P2ccjHj/j1kmdV/wC+0rm+zE3k7ykfQVFFFdJgFFFFABRRRQAUUUUAFFFFABRRRQAUUUlACKaXgU37v1rkfif46tvhx8P/ABF4nvNv2bSrGW52scb2VflT6s3y/jTLhFzkoRPzX/b6+Jn/AAsD4/TaTby7tL8K232BAfufaX+eZ/8A0BP+AV85VJdalda5f3uq6hL5+o6hcPe3E39+Z33vUdfO1Jc8+c/qjJcD/Z+Bo4cKKKq337ya1T/b30z2pS5I859i/wDBNT4hvoPxS8SeC7iUmy12yGoW8b/8/MP39n++j5/7Z16b/wAFNPhymp+B/D3j60i/0vQ7v7Hdsn/PrN0L+yS7P+/pr4z+AfjD/hXvx28AeIA/lw2+rQwXEn9yGb9zN/449frD+0F4Mj+IHwT8ceHmj8x73Sbjyh/02VN8R/77VK9Cj79KUD+feIoSynPViKX+I/F+ePz0++6P99HT+B6/W39jn45D46fB+yvL+RX8TaVJ/Z+rL/elT7k3/A1w3+9v9K/I+xn8+zgf++lfSH7BPxPb4dftAWukXEuzSfFsX9myp/B9pT57Z/8A0NP+B1y4efJOx9nxfl8cwy6GYUvjj/6Sfq0a+IdL0+KH9ir45eEJB/o/hXVde02FP7saTfaU/wDRgr7ebrXw98RdQHhfwl+2Hpo+VEuLa65+7uvLKGvTqbH4lQV5JeaPR/8Agn38QW8dfs6aTZXE3nX3h+V9JlP+wnzQ/lC8a/8AAK+mD/FX5w/8EyvGn9k/EbxR4UlfEGq6al/Fv6+bbvscf98zD/viv0fooT543PSzvCfU8dUpD6KKK3PEEHSuH+Nmp/2P8G/H+oZ2mz0G/nyv+xbO1dwK8f8A2udQ/sv9mn4kT/3tGmh+9t++NnX/AIHU9Brc/LPwXr+q+GdHsm0rUr7S38lN72tw8P8AB/sV9uf8E4Jr3WNM+JmuajczXt5d6xb273NzK7u/lWw/v/79fDNjH5dnAn9xEr74/wCCati0Pwe8W3RT95ceKrn95/eRILdP5hq/QuJKcKeCw8Uv65T4Hh6c6mLxEn/XvH1/RRRX5+fehRRRQAUUUUAFFFFABRRRQAUUUUAFJS0lAEZwyk9M18Y/8FMPiM2i/DfQfBtrNtn8QXvnXS/9O1vh/wD0c0H/AHzX2djcMdBX5IftrfEJ/iF+0f4kMUvnWGh7NHt9n/TL/XD8JncfhXNiJ8kD63hbA/Xczhf4Ye8eG0UUV5B/TYVVk/eakn+wlWqrWv7y5un/ANvZWRzVfsQH30byWc+x9jom9Nlft78LfFa+Ofht4V8RbgzarpdteMf9qSJXb+Zr8SK/VL/gn74mHiH9l7wxCz77jS5brTpfm/uTMyf+OOlejhZe8fkniBh/4OJ/7dPy78R+H/8AhFfF3iHQtmz+ydUvNP2f7kzpVGDVbvQ7y11XT38jUdPuEvbd/wC46PvSvTP2otH/ALA/aU+Jdlt2b9We9/7/ACJN/wCz15nJH5ibK457n3WWf7fk0Yz+1DlP3F8G+Irbxl4T0bX7L/j01aygvov9yVA4/wDQq+B/2tdeTS0/aYsQ3Osa54VsPvf9OSTf+0a+jv2CfFLeJv2W/CQmbzLrSzcaZL/2xmcJ/wCObK+Hv22tdjs/j/8AELwvCzeXdazpuqzf76aagT/0pevSqz/dRmfgGW4TmzKOG7S/9uOW/ZZ8V/8ACE/tE+AdSZ9kM2oJp8v9zbcJ5I/9DSv2Sr8HI7640qaC9tH2XVo6XUL/ANx0felfuh4c1mHxDoOl6pB/x731tFcxf7roGH6VOFnofZce4b2WLo1v5omtRRRXoH5cMbtXgX7crbv2ZPFlpGQJr6Wxs0+Xf/rL2FD/AOO7q99btXgv7Yv+leAfCmlfN/xNfGWi2e1P4s3SP/7JUVPh0NafxxIdV/Yo+FWrXT3KaLcWAf70dneOif8AfLEiqn7Dei2mhfB/VEsonjspvE2qtD5j7n2JcmFdx9f3dfRXqf4a8A/YczJ+zJ4Tu3URy3s19eN82d2+/ncH/vkrXRWxVfEKMKs+Y46GFoYeMpUocp9B0UUVkbhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHM/EDxPH4I8C+IfEUq+ZFpGn3F+6/3hFEzkf8Ajtfh/wDarjUnnvbuV57q7d5pnf8Ajd/nev3E8beHIPGHg3XdBuD+41Sxms5D/syoyH/0Kvw4jtZbHfaXCbLq3d4Zkf8AgdPkrzMZ9g/W/D7k9tW/mH1DJdJHN5XzyP8A7FTVDPa+Y/nRPsn/AL9cR+z1efl9wmqrpv8Ax7b/AONnffTP7S8j5LhNj/8AodPsY3+d3TZvffsrIw9rGdWHKWq/QX/glz4gE/gnx/4f3c2Wqw6ht/u/aIdmP/Jevz6r69/4Jja/9i+MHjLRN2f7Q0SO9/78z7P/AGtXVh/4p8TxzR9plnP/ACyOD/b60v8Asv8Aap8STbf+QjY2F1/5B8n/ANo18/V9Vf8ABSrT1t/2gtCulGBdeHIQ3+8lzN/8WlfKtRW+OR6HCM+fJ6R+iP8AwS91RpfhT4y0533m08QvMv8AsiWCHj/xyvnP/goJobab+1Vql03TUNJs7pP++PJ/9o17z/wS3dT4V+Ise5d66pbNtHb9xXE/8FPvDotfiN4A1/ZzfaZdWDt/1ykR/wD2tXXL/dz8ty+UaPE//b0j43f94myv19/ZB8SDxP8As0/D+5Zt/k6all/4Ds0H/tKvyCr2D9nz9qzxp8CdQ020bUJL/wAE29w6XWiSInyRO+93hf8Ahb53fFYYerySsz9E4yymtmeHg6HxQP2B3dfmpd69z+leA2n7dnwNvI9yeO4EH/Taxuk/9CiFben/ALX3wb1HZ5fxF0RNy7x50wi4/wCB4r2OaB+CfUcVH/l1L7mewt3+lfM37b3i6w8GaX8JNS1TzRplp46sL64eE/wwxzP9z+L+/wD8Ar3Tw38S/CfjT5fDvifRtdfuumahDcf+gMa+Ov8AgqPqCrpHw1sjt3y395N/tfJCnT/vus6s/cudOW4X2+NpYep9qR6j4g/by+En/CO6g1t4huJbw20uyCPT7lXL7Pl+bZtH51237H2n/wBm/syfDpNqqW0qObCdPnLP/wCzV+PF9OkFnPvdE+R6/Z/9mv7ND+z/APDuK2nt5xF4fsIWktX3JvW3QP8A+Pbqww9aVaR9NxPk2Fybkhhp35j1GikortPhBaKKKACiiigAooooAKKKKACiiigApKWigBhX5fwr8bf2p/B//CE/tGePtNVdsNxqH9pxZ/u3Ced8n/A3dK/ZLdX5u/8ABTXwgNL+KHg/xPGo8vVtMmsZcf3rd9//AKDMf++K4sVG8D7ngzFewzWEf5j4+ooorzD+jxkkaSLsdN6VVtf9FuXt/wCD76VdqrfRvs81Pvw/PWRy1Icv73+UtV79+wbrf9j/ALVHhiENtXU7O/smH/bHzv8A2jXz9HIkiI6fx16L+zrrH9gftEfDO93bN+vW1r/3+fyf/Z63p/GeBxNT9tk9Vn0f/wAFRrH7P44+G178/wDpFjfwf7HyPC//ALPXxdX3b/wVMtPMX4XXfzfuptSh/wBn544ev/fFfCVXiP4p4vA8ufKrf3j7a/4Jc68sPir4kaG5w11b2GoRf8AEiP8A+hpXW/8ABUOxif4e+BL0r/pEOuNCreiPA+//ANASvA/+CfOuNo/7UVhbr/zFtIvLJ/8AgGyb/wBo19E/8FSokX4L+FLrdh4fE0KD/gdtc/8AxNdEP93Pz3M6P1XiZf4oyPzro/1lFFcR/Qm6GRwJAm1E+5RtT+6lPokk8tHegzdOnCF7Hq37OvwX+IPirxRYeOPBjaXpsWj6h5cd5qLP5fmpsd/kT53+/X1bqHwG8MeIPEGlt8V/FN78QfFWoed9hg1a7e2g+RN8yW1sj/Imytz9lPw+nhz4A+EIk+/d2/215P77zO7/APs9Z19PaXX7Y2nWl66O9p4Ne605H/gme8dJnT/b2J/6HXDOc/gP57zOusRjJzRw/hn4EeBPAn7SF94c/wCEX0zUdB1nQP7TtLXVLdLz7JNDNsdE87f8jo++vRP2ebTRdB/ak8SaJ8PmVPCaaEJtestPJOn2+pecgh2/wJLs8z5E/uVyv7S3gfR/EfxO+Etxrto97ol3fXOi3cMNw8Lu8yb4fuOj7N6fPVjXfh14c+CPxN+E+peALH/hH9b1TxJbaTcWtnK+y+sX/wCPnem/59ifPvrbDz5KsDxK8faQ1Pu2iiivqD5sWiiigAooooAKKKKACiiigAooooAKKKKAIyOfwr5O/wCCj3hE698AU1mKLdL4f1S3vWb/AKZOfJf/ANGqf+A19ZMeBXE/GbwYvxG+Ffi3w0FDy6lpdxbxDOP3pQ7P/H9tROPPHU7cDXeGxdOsvss/FKiobWR5LaPf9/8AjqavCP62pT9pTUwooooNSrY/uHe3/ufOn+5Wpoesf8I54h0TWN+z+z9Rtr3f/uTI9Zd9+4dLj+58j/7lGpJ5lhP/ALlZLc8TGUvaYKth/wC7I/Sv/gpt4cfUPgroGtQr82la7CZX/uQyo6P/AOPeXX5vV+tvxE8Pf8NAfsezWsC/abrXvDFtqFn/ALdx5KXEP/j6pX5GWtx59sj/AN9K7cV8Smfn/AOI/d1sKezfsa3TWv7Vnw5lXl/tF4n/AH3ZzJX1r/wVPmT/AIUb4XtcfvZfE0Lp/wABtrn/AOKr5J/Y7gM37VHw4ULub7VdOf8AgFrNX1Z/wVGuVPw68EWf8UuttJ/3xbSf/F1cP93keFxBHm4khH/CfnjBJ5kKP/fSn16l4N/Zc8a+OPhDZeOvCKw+J4fNmt77RofkvLZkf+D/AJ6/IEf+/wDP9yvLZ45bW8ntLu3msr23fZNa3SbJoX/uOlcfIz9ewOaYbG/u4T9+AVDdfu7Of/cqaqupf8eE9M9Sr7tKR9XfAv8AbLu9G03w94P1vwZcailpaJZWl14f3zTOkKfxwv8Af+RN77Hrzn9pb4sWnir402vi3wPrsrvp+k2yWl7a74XhffM7psf/AH/uPXef8E7fBA8TftCf2s6/6P4c0mW5V/8AptMfJT/xx5v++K+i9B+Cfgj4r/tS/HOLxL4bgvrXT4tFSLAeJfNltneZ9ybcv/q+c1cMJ7T3z8HzGpg8rzWcJQ54x+I4fwX8CNK+L3hjRPGHijxr4h8X3t3aJNp10l39jTTnf7/kpD9x/wCB/wDcrpP2a/h/pmk/tU+NIvtWoeMH0XRLMLrOvXb3lzplzM8m+BHf7m9Pn/v/APj9UvjN+zTpfwhbwPb+BPFPizwtpvinxXYaHd6Pp2rEW0UU295pYfMDOj7IX/jbrX1J8KfhD4Z+DPhttF8MWP2aCaXzri4mk825u5j96SaRuXf3q8PhJQq3mfH4nFQqR/dnfUUUV7R4oUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU1vut9KKKBrc/Dr4l2kOn/FHx1aW8YitrbXr+OGNeiKs7hQPoAKwKKK8FfGf1nlmuEov+6FFFFSeyiKb5oJ881Fb/Pp+G5+Siisjyqv8Zn6+fsWXUt5+zD8PJJnMjjSwgY+iu6KPwVVH4V+X3xo0210f43fEiwsoEt7O08RXkcEKj5Y1MnQe3OPpxRRXo4j+Cfh/BraznTsz039ge1iuv2qPDMksau8FlfmNiOV/csnH/ASRXu//BUyZxp3wxhDsI2vb5mXPBKwxgH8Nx/OiilR/wB2OvN9eLIX/midN/wTHnkk+DfiqFnLRQ+I7gRqf4cxQ5rtv20/hJ4P8UfCPxX4k1LQLSfX9K05p7TUlBjnRh0DOpBdf9hsr7UUV20v4J8tjpOnndTkdtVt8j8pNFne4tVeRtztJtJx2/pUd8xbT1J/jj3MOxPuKKK8Q/oXDylLALmdz9Bv+CW9lAuhfEa9EYF1Jf2sDS9zGkbFV+gLv/30a9q+BLGf9oL9oOSQ73/tfTI8n+6tguB+GaKK9vD/AMOB/O3EOuZ4q/8AWxP+0oBL44+B8LjdF/wmkEuw9Ny2tzhvqM172PvfhRRWi+KR85L4YjqKKK0IP//Z"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/wheres-waldo/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return je},SDK_VERSION:function(){return _t},_DEFAULT_ENTRY_NAME:function(){return pt},_addComponent:function(){return gt},_addOrOverwriteComponent:function(){return kt},_apps:function(){return yt},_clearComponents:function(){return xt},_components:function(){return mt},_getProvider:function(){return bt},_registerComponent:function(){return wt},_removeServiceInstance:function(){return Et},deleteApp:function(){return Pt},getApp:function(){return Nt},getApps:function(){return Dt},initializeApp:function(){return Ct},onLog:function(){return Ot},registerVersion:function(){return Lt},setLogLevel:function(){return Ft}});var t=n(791),r=n(164);function i(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,s,"next",e)}function s(e){i(o,r,a,u,s,"throw",e)}u(void 0)}))}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=n(757),d=n.n(h);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}var v,y=v||(v={});y.Pop="POP",y.Push="PUSH",y.Replace="REPLACE";var m=function(e){return e};function g(e){e.preventDefault(),e.returnValue=""}function k(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function w(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function E(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x(e,t){if(!e)throw new Error(t)}var S=(0,t.createContext)(null);var T=(0,t.createContext)(null);var I=(0,t.createContext)({outlet:null,matches:[]});function A(e){return function(e){var n=(0,t.useContext)(I).outlet;if(n)return(0,t.createElement)(O.Provider,{value:e},n);return n}(e.context)}function _(e){x(!1)}function C(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?v.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;P()&&x(!1);var h=G(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=E(o));var p=o,y=p.pathname,m=void 0===y?"/":y,g=p.search,k=void 0===g?"":g,w=p.hash,b=void 0===w?"":w,I=p.state,A=void 0===I?null:I,_=p.key,C=void 0===_?"default":_,N=(0,t.useMemo)((function(){var e=W(m,h);return null==e?null:{pathname:e,search:k,hash:b,state:A,key:C}}),[h,m,k,b,A,C]);return null==N?null:(0,t.createElement)(S.Provider,{value:d},(0,t.createElement)(T.Provider,{children:a,value:{location:N,navigationType:s}}))}function N(e){var n=e.children,r=e.location;return function(e,n){P()||x(!1);var r=(0,t.useContext)(I).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=R();if(n){var c,l="string"===typeof n?E(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||x(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=W(("string"===typeof t?E(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=z(i[o],r);return a}(e,{pathname:h});0;return q(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Q([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:Q([o,e.pathnameBase])})})),r)}(M(n),r)}function D(e){P()||x(!1);var n=(0,t.useContext)(S),r=n.basename,i=n.navigator,a=F(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?E(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):Q([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function P(){return null!=(0,t.useContext)(T)}function R(){return P()||x(!1),(0,t.useContext)(T).location}function L(){P()||x(!1);var e=(0,t.useContext)(S),n=e.basename,r=e.navigator,i=(0,t.useContext)(I).matches,a=R().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=H(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Q([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}var O=(0,t.createContext)(null);function F(e){var n=(0,t.useContext)(I).matches,r=R().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return H(e,JSON.parse(i),r)}),[e,i,r])}function M(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==_&&x(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=M(e.props.children)),n.push(r)}else n.push.apply(n,M(e.props.children))})),n}function U(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=Q([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),U(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:B(o,e.index),routesMeta:u})})),t}var j=/^:\w+$/,V=function(e){return"*"===e};function B(e,t){var n=e.split("/"),r=n.length;return n.some(V)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!V(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function z(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=K({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Q([i,l.pathname]),pathnameBase:Q([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=Q([i,l.pathnameBase]))}return a}function q(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(I.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(A,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function H(e,t,n){var r,i="string"===typeof e?E(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?E(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:X(a),hash:J(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Q=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},X=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},J=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var $=["onClick","reloadDocument","replace","state","target","to"],ee=["aria-current","caseSensitive","className","end","style","to","children"];function te(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=u.state||{};return[t.idx,m({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:b(e)}function r(e,t){return void 0===t&&(t=null),m(p({pathname:f.pathname,hash:"",search:""},"string"===typeof e?E(e):e,{state:t,key:w()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],h.call({action:c,location:f})}function a(e){u.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,u=o.history,s=null;o.addEventListener("popstate",(function(){if(s)d.call(s),s=null;else{var e=v.Pop,n=t(),r=n[0];if(n=n[1],d.length){if(null!=r){var o=l-r;o&&(s={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=v.Pop,l=(e=t())[0],f=e[1],h=k(),d=k();return null==l&&(l=0,u.replaceState(p({},u.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var s=v.Push,c=r(t,a);if(!d.length||(d.call({action:s,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(ho){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=v.Replace,s=r(t,a);d.length&&(d.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:l},n(s)],u.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return h.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&o.addEventListener("beforeunload",g),function(){t(),d.length||o.removeEventListener("beforeunload",g)}}}}({window:i}));var o=a.current,u=f((0,t.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(C,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var ne=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Z(e,$),f=D(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=L(),s=R(),c=F(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||b(s)===b(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",Y({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var re=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Z(e,ee),v=R(),y=F(h),m=v.pathname,g=y.pathname;o||(m=m.toLowerCase(),g=g.toLowerCase());var k,w=m===g||!l&&m.startsWith(g)&&"/"===m.charAt(g.length),b=w?i:void 0;k="function"===typeof s?s({isActive:w}):[s,w?"active":null].filter(Boolean).join(" ");var E="function"===typeof f?f({isActive:w}):f;return(0,t.createElement)(ne,Y({},p,{"aria-current":b,className:k,ref:n,style:E,to:h}),"function"===typeof d?d({isActive:w}):d)}));var ie=n(184);var ae=function(e){var n=f((0,t.useState)(!0),2),r=n[0],i=n[1];function a(t){e.gameOver||i(t)}return(0,t.useEffect)((function(){e.gameOver&&i(!1)}),[e.gameOver]),(0,ie.jsxs)("header",{className:"Navbar",children:[(0,ie.jsx)(re,{onClick:function(){a(!0)},style:function(e){return{color:e.isActive?"red":""}},to:"/",className:"Navlink",children:"Home"}),(0,ie.jsx)("p",{className:"timer",children:r?e.time:""}),(0,ie.jsx)(re,{onClick:function(){a(!1)},style:function(e){return{color:e.isActive?"red":""}},to:"/highscores",className:"Navlink",children:"High Scores"})]})},oe=n(538),ue=n(469),se=n(788);var ce=function(e){var t=function(t){return{color:e.menuItemActive[t]?"#fff":"green"}};return(0,ie.jsx)("div",{className:"Sidebar",children:(0,ie.jsxs)("ul",{className:"char-list",children:[(0,ie.jsxs)("li",{className:"char-list-item",children:[(0,ie.jsx)("img",{src:oe,alt:"profile of Waldo"}),(0,ie.jsx)("p",{style:t("Waldo"),children:"Waldo"})]}),(0,ie.jsxs)("li",{className:"char-list-item",children:[(0,ie.jsx)("img",{src:ue,alt:"profile of Waldo"}),(0,ie.jsx)("p",{style:t("Wizard"),children:"Wizard"})]}),(0,ie.jsxs)("li",{className:"char-list-item",children:[(0,ie.jsx)("img",{src:se,alt:"profile of Waldo"}),(0,ie.jsx)("p",{style:t("Odlaw"),children:"Odlaw"})]})]})})},le=n(410);var fe=function(e){var t=function(t){return{pointerEvents:e.activeItems[t]?"auto":"none",color:e.activeItems[t]?"":"#bbb",backgroundColor:e.activeItems[t]?"":"green"}};return(0,ie.jsx)("div",{style:{left:e.x+35,top:e.y-25},className:"CharMenu",children:(0,ie.jsxs)("ul",{children:[(0,ie.jsx)("li",{style:t("Waldo"),onClick:function(t){e.checkTarget(t)},children:"Waldo"}),(0,ie.jsx)("li",{style:t("Wizard"),onClick:function(t){e.checkTarget(t)},children:"Wizard"}),(0,ie.jsx)("li",{style:t("Odlaw"),onClick:function(t){e.checkTarget(t)},children:"Odlaw"})]})})},he=function(e){var n=f((0,t.useState)(e.time),2),r=n[0],i=(n[1],f((0,t.useState)(""),2)),a=i[0],o=i[1];return(0,ie.jsx)("div",{className:"popup-box",children:(0,ie.jsxs)("div",{className:"box",children:[(0,ie.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),(0,ie.jsx)("h1",{children:"Congratulations!"}),(0,ie.jsx)("h1",{children:r}),(0,ie.jsxs)("form",{action:"",children:[(0,ie.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,ie.jsx)("input",{type:"text",name:"name",value:a,onChange:function(e){o(e.target.value)}}),(0,ie.jsx)("button",{onClick:function(t){!function(t){t.preventDefault(),e.addScoreToDb(a)}(t),e.handleClose()},children:"Enter Name"})]})]})})};var de=function(e){var n=f((0,t.useState)(le),2),r=n[0],i=(n[1],f((0,t.useState)({x:0,y:0}),2)),a=i[0],o=i[1],u=f((0,t.useState)({px:0,py:0}),2),s=u[0],c=u[1],l=f((0,t.useState)(!1),2),h=l[0],d=l[1],p=f((0,t.useState)(!0),2),v=p[0],y=p[1],m=function(){d(!h)},g={Waldo:{px:.4283,py:.2685},Wizard:{px:.8311,py:.8715},Odlaw:{px:.185,py:.573}};return(0,ie.jsxs)("div",{className:"App",children:[(0,ie.jsx)("img",{onClick:function(e){!function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;c({px:n/t.width,py:r/t.height}),o({x:n,y:r})}(e),m()},src:r,alt:"search and find, where's waldo"}),(0,ie.jsxs)("div",{style:{display:h?"block":"none"},className:"charlist-container",children:[(0,ie.jsx)("div",{className:"cursorRect",style:{left:a.x-25,top:a.y-25}}),(0,ie.jsx)(fe,{activeItems:e.menuItemActive,checkTarget:function(t){var n=g[t.target.innerText];Math.abs(n.px-s.px)<.05&&Math.abs(n.py-s.py)<.05&&e.updateMenuItem(t),m()},checkIfFinished:e.checkIfFinished,x:a.x,y:a.y})]}),v&&e.gameOver&&(0,ie.jsx)(he,{addScoreToDb:e.addScoreToDb,time:e.time,handleClose:function(){y(!v)}})]})};function pe(e,t){return pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pe(e,t)}function ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ye(e,t,n){return ye=ve()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&pe(i,n.prototype),i},ye.apply(null,arguments)}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}function ge(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}function ke(){return ke="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ge(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ke.apply(this,arguments)}function we(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){if(t&&("object"===Ee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}function Te(e){var t=ve();return function(){var n,r=me(e);if(t){var i=me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}function Ie(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ne(e){var t="function"===typeof Map?new Map:void 0;return Ne=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ye(e,arguments,me(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pe(n,e)},Ne(e)}var De=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Re=function(e){return function(e){var t=De(e);return Pe.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Le(e[n],t[n]));return e}var Oe=function(){function e(){var t=this;Ae(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ce(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Fe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(a)),""].join(".")}function Me(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var je=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(xe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(xe(a),Ve.prototype.create),a}return Ce(n)}(Ne(Error)),Ve=function(){function e(t,n,r){Ae(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ce(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Be(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new je(n,a,t);return o}}]),e}();function Be(e,t){return e.replace(ze,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ze=/\{\$([^}]+)}/g;function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ke(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(He(u)&&He(s)){if(!Ke(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function He(e){return null!==e&&"object"===typeof e}function We(e,t){var n=new Qe(e,t);return n.subscribe.bind(n)}var Qe=function(){function e(t,n){var r=this;Ae(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ce(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=we(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ge),void 0===r.error&&(r.error=Ge),void 0===r.complete&&(r.complete=Ge);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ge(){}function Xe(e){return e&&e._delegate?e._delegate:e}var Je=function(){function e(t,n,r){Ae(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ce(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ye="[DEFAULT]",Ze=function(){function e(t,n){Ae(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ce(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Oe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ye})}catch(s){}var t,n=we(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a(h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ie(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ie(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=we(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sv){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ye?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(sv){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;return this.component?this.component.multipleInstances?e:Ye:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var $e,et,tt=function(){function e(t){Ae(this,e),this.name=t,this.providers=new Map}return Ce(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ze(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),nt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(et||(et={}));var rt,it,at={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},ot=et.INFO,ut=(o($e={},et.DEBUG,"log"),o($e,et.VERBOSE,"log"),o($e,et.INFO,"info"),o($e,et.WARN,"warn"),o($e,et.ERROR,"error"),$e),st=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ut[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ct=function(){function e(t){Ae(this,e),this.name=t,this._logLevel=ot,this._logHandler=st,this._userLogHandler=null,nt.push(this)}return Ce(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in et))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?at[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.DEBUG].concat(t)),this._logHandler.apply(this,[this,et.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.VERBOSE].concat(t)),this._logHandler.apply(this,[this,et.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.INFO].concat(t)),this._logHandler.apply(this,[this,et.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.WARN].concat(t)),this._logHandler.apply(this,[this,et.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,et.ERROR].concat(t)),this._logHandler.apply(this,[this,et.ERROR].concat(t))}}]),e}();var lt=function(){function e(t){Ae(this,e),this.container=t}return Ce(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ft="@firebase/app",ht="0.7.16",dt=new ct("@firebase/app"),pt="[DEFAULT]",vt=(o(rt={},ft,"fire-core"),o(rt,"@firebase/app-compat","fire-core-compat"),o(rt,"@firebase/analytics","fire-analytics"),o(rt,"@firebase/analytics-compat","fire-analytics-compat"),o(rt,"@firebase/app-check","fire-app-check"),o(rt,"@firebase/app-check-compat","fire-app-check-compat"),o(rt,"@firebase/auth","fire-auth"),o(rt,"@firebase/auth-compat","fire-auth-compat"),o(rt,"@firebase/database","fire-rtdb"),o(rt,"@firebase/database-compat","fire-rtdb-compat"),o(rt,"@firebase/functions","fire-fn"),o(rt,"@firebase/functions-compat","fire-fn-compat"),o(rt,"@firebase/installations","fire-iid"),o(rt,"@firebase/installations-compat","fire-iid-compat"),o(rt,"@firebase/messaging","fire-fcm"),o(rt,"@firebase/messaging-compat","fire-fcm-compat"),o(rt,"@firebase/performance","fire-perf"),o(rt,"@firebase/performance-compat","fire-perf-compat"),o(rt,"@firebase/remote-config","fire-rc"),o(rt,"@firebase/remote-config-compat","fire-rc-compat"),o(rt,"@firebase/storage","fire-gcs"),o(rt,"@firebase/storage-compat","fire-gcs-compat"),o(rt,"@firebase/firestore","fire-fst"),o(rt,"@firebase/firestore-compat","fire-fst-compat"),o(rt,"fire-js","fire-js"),o(rt,"firebase","fire-js-all"),rt),yt=new Map,mt=new Map;function gt(e,t){try{e.container.addComponent(t)}catch(n){dt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function kt(e,t){e.container.addOrOverwriteComponent(t)}function wt(e){var t=e.name;if(mt.has(t))return dt.debug("There were multiple attempts to register component ".concat(t,".")),!1;mt.set(t,e);var n,r=we(yt.values());try{for(r.s();!(n=r.n()).done;){gt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bt(e,t){return e.container.getProvider(t)}function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt;bt(e,t).clearInstance(n)}function xt(){mt.clear()}var St,Tt=(o(it={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(it,"bad-app-name","Illegal App name: '{$appName}"),o(it,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),o(it,"app-deleted","Firebase App named '{$appName}' already deleted"),o(it,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),o(it,"invalid-log-argument","First argument to `onLog` must be null or a function."),it),It=new Ve("app","Firebase",Tt),At=function(){function e(t,n,r){var i=this;Ae(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Je("app",(function(){return i}),"PUBLIC"))}return Ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}]),e}(),_t="9.6.6";function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:pt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw It.create("bad-app-name",{appName:String(i)});var a=yt.get(i);if(a){if(Ke(e,a.options)&&Ke(r,a.config))return a;throw It.create("duplicate-app",{appName:i})}var o,u=new tt(i),s=we(mt.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new At(e,r,u);return yt.set(i,l),l}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=yt.get(e);if(!t)throw It.create("no-app",{appName:e});return t}function Dt(){return Array.from(yt.values())}function Pt(e){return Rt.apply(this,arguments)}function Rt(){return Rt=a(h.mark((function e(t){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!yt.has(n)){e.next=6;break}return yt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Rt.apply(this,arguments)}function Lt(e,t,n){var r,i=null!==(r=vt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dt.warn(u.join(" "))}wt(new Je("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ot(e,t){if(null!==e&&"function"!==typeof e)throw It.create("invalid-log-argument");!function(e,t){var n,r=we(nt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=at[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:et[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ft(e){var t;t=e,nt.forEach((function(e){e.setLogLevel(t)}))}St="",wt(new Je("platform-logger",(function(e){return new lt(e)}),"PRIVATE")),Lt(ft,ht,St),Lt(ft,ht,"esm2017"),Lt("fire-js","");var Mt,Ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},jt={},Vt=Vt||{},Bt=Ut||self;function zt(){}function qt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Kt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ht="closure_uid_"+(1e9*Math.random()>>>0),Wt=0;function Qt(e,t,n){return e.call.apply(e.bind,arguments)}function Gt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xt(e,t,n){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qt:Gt).apply(null,arguments)}function Jt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Zt(){this.s=this.s,this.o=this.o}var $t={};Zt.prototype.s=!1,Zt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ht)&&e[Ht]||(e[Ht]=++Wt)}(this);delete $t[e]}},Zt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var en=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},tn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function nn(e){return Array.prototype.concat.apply([],arguments)}function rn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function an(e){return/^[\s\xa0]*$/.test(e)}var on,un=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sn(e,t){return-1!=e.indexOf(t)}function cn(e,t){return e<t?-1:e>t?1:0}e:{var ln=Bt.navigator;if(ln){var fn=ln.userAgent;if(fn){on=fn;break e}}on=""}function hn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function dn(e){var t={};for(var n in e)t[n]=e[n];return t}var pn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<pn.length;a++)n=pn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yn(e){return yn[" "](e),e}yn[" "]=zt;var mn,gn=sn(on,"Opera"),kn=sn(on,"Trident")||sn(on,"MSIE"),wn=sn(on,"Edge"),bn=wn||kn,En=sn(on,"Gecko")&&!(sn(on.toLowerCase(),"webkit")&&!sn(on,"Edge"))&&!(sn(on,"Trident")||sn(on,"MSIE"))&&!sn(on,"Edge"),xn=sn(on.toLowerCase(),"webkit")&&!sn(on,"Edge");function Sn(){var e=Bt.document;return e?e.documentMode:void 0}e:{var Tn="",In=function(){var e=on;return En?/rv:([^\);]+)(\)|;)/.exec(e):wn?/Edge\/([\d\.]+)/.exec(e):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xn?/WebKit\/(\S+)/.exec(e):gn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(In&&(Tn=In?In[1]:""),kn){var An=Sn();if(null!=An&&An>parseFloat(Tn)){mn=String(An);break e}}mn=Tn}var _n,Cn={};function Nn(){return function(e){var t=Cn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=un(String(mn)).split("."),n=un("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=cn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||cn(0==a[2].length,0==o[2].length)||cn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Bt.document&&kn){var Dn=Sn();_n=Dn||(parseInt(mn,10)||void 0)}else _n=void 0;var Pn=_n,Rn=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Bt.addEventListener("test",zt,t),Bt.removeEventListener("test",zt,t)}catch(n){}return e}();function Ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function On(e,t){if(Ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(En){e:{try{yn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&On.Z.h.call(this)}}Ln.prototype.h=function(){this.defaultPrevented=!0},Yt(On,Ln);var Fn={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mn="closure_listenable_"+(1e6*Math.random()|0),Un=0;function jn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Un,this.ca=this.fa=!1}function Vn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bn(e){this.src=e,this.g={},this.h=0}function zn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=en(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Vn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Bn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=qn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new jn(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Kn="closure_lm_"+(1e6*Math.random()|0),Hn={};function Wn(e,t,n,r,i){if(r&&r.once)return Gn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wn(e,t[a],n,r,i);return null}return n=tr(n),e&&e[Mn]?e.N(t,n,Kt(r)?!!r.capture:!!r,i):Qn(e,t,n,!1,r,i)}function Qn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Kt(i)?!!i.capture:!!i,u=$n(e);if(u||(e[Kn]=u=new Bn(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Rn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gn(e,t[a],n,r,i);return null}return n=tr(n),e&&e[Mn]?e.O(t,n,Kt(r)?!!r.capture:!!r,i):Qn(e,t,n,!0,r,i)}function Xn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xn(e,t[a],n,r,i);else r=Kt(r)?!!r.capture:!!r,n=tr(n),e&&e[Mn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qn(a=e.g[t],n,r,i))&&(Vn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$n(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qn(t,n,r,i)),(n=-1<e?t[e]:null)&&Jn(n))}function Jn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Mn])zn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$n(t))?(zn(n,e),0==n.h&&(n.src=null,t[Kn]=null)):Vn(e)}}}function Yn(e){return e in Hn?Hn[e]:Hn[e]="on"+e}function Zn(e,t){if(e.ca)e=!0;else{t=new On(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jn(e),e=n.call(r,t)}return e}function $n(e){return(e=e[Kn])instanceof Bn?e:null}var er="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(e){return"function"===typeof e?e:(e[er]||(e[er]=function(t){return e.handleEvent(t)}),e[er])}function nr(){Zt.call(this),this.i=new Bn(this),this.P=this,this.I=null}function rr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ln(t,e);else if(t instanceof Ln)t.target=t.target||e;else{var i=t;vn(t=new Ln(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ir(o,r,!0,t)&&i}if(i=ir(o=t.g=e,r,!0,t)&&i,i=ir(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ir(o=t.g=n[a],r,!1,t)&&i}function ir(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&zn(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Yt(nr,Zt),nr.prototype[Mn]=!0,nr.prototype.removeEventListener=function(e,t,n,r){Xn(this,e,t,n,r)},nr.prototype.M=function(){if(nr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vn(n[r]);delete t.g[e],t.h--}}this.I=null},nr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},nr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ar=Bt.JSON.stringify;function or(){var e=pr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ur,sr=function(){function e(){Ae(this,e),this.h=this.g=null}return Ce(e,[{key:"add",value:function(e,t){var n=cr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),cr=new(function(){function e(t,n){Ae(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ce(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new lr}),(function(e){return e.reset()})),lr=function(){function e(){Ae(this,e),this.next=this.g=this.h=null}return Ce(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function fr(e){Bt.setTimeout((function(){throw e}),0)}function hr(e,t){ur||function(){var e=Bt.Promise.resolve(void 0);ur=function(){e.then(vr)}}(),dr||(ur(),dr=!0),pr.add(e,t)}var dr=!1,pr=new sr;function vr(){for(var e;e=or();){try{e.h.call(e.g)}catch(n){fr(n)}var t=cr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dr=!1}function yr(e,t){nr.call(this),this.h=e||1,this.g=t||Bt,this.j=Xt(this.kb,this),this.l=Date.now()}function mr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function gr(e,t,n){if("function"===typeof e)n&&(e=Xt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bt.setTimeout(e,t||0)}function kr(e){e.g=gr((function(){e.g=null,e.i&&(e.i=!1,kr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Yt(yr,nr),(Mt=yr.prototype).da=!1,Mt.S=null,Mt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),rr(this,"tick"),this.da&&(mr(this),this.start()))}},Mt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.M=function(){yr.Z.M.call(this),mr(this),delete this.g};var wr=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ce(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:kr(this)}},{key:"M",value:function(){ke(me(n.prototype),"M",this).call(this),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Zt);function br(e){Zt.call(this),this.h=e,this.g={}}Yt(br,Zt);var Er=[];function xr(e,t,n,r){Array.isArray(n)||(n&&(Er[0]=n.toString()),n=Er);for(var i=0;i<n.length;i++){var a=Wn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Sr(e){hn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Jn(e)}),e),e.g={}}function Tr(){this.g=!0}function Ir(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ar(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}br.prototype.M=function(){br.Z.M.call(this),Sr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tr.prototype.Aa=function(){this.g=!1},Tr.prototype.info=function(){};var Ar={},_r=null;function Cr(){return _r=_r||new nr}function Nr(e){Ln.call(this,Ar.Ma,e)}function Dr(e){var t=Cr();rr(t,new Nr(t,e))}function Pr(e,t){Ln.call(this,Ar.STAT_EVENT,e),this.stat=t}function Rr(e){var t=Cr();rr(t,new Pr(t,e))}function Lr(e,t){Ln.call(this,Ar.Na,e),this.size=t}function Or(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bt.setTimeout((function(){e()}),t)}Ar.Ma="serverreachability",Yt(Nr,Ln),Ar.STAT_EVENT="statevent",Yt(Pr,Ln),Ar.Na="timingevent",Yt(Lr,Ln);var Fr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ur(){}function jr(e){return e.h||(e.h=e.i())}function Vr(){}Ur.prototype.h=null;var Br,zr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qr(){Ln.call(this,"d")}function Kr(){Ln.call(this,"c")}function Hr(){}function Wr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new br(this),this.P=Gr,e=bn?125:void 0,this.W=new yr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}Yt(qr,Ln),Yt(Kr,Ln),Yt(Hr,Ur),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Br=new Hr;var Gr=45e3,Xr={},Jr={};function Yr(e,t,n){e.K=1,e.v=wi(pi(t)),e.s=n,e.U=!0,Zr(e,null)}function Zr(e,t){e.F=Date.now(),ni(e),e.A=pi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ri(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Qr,e.g=Oa(e.l,n?t:null,!e.s),0<e.O&&(e.L=new wr(Xt(e.Ia,e,e.g),e.O)),xr(e.V,e.g,"readystatechange",e.gb),t=e.H?dn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Dr(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function $r(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ei(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ti(e,n))==Jr){4==t&&(e.o=4,Rr(14),i=!1),Ir(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xr){e.o=4,Rr(15),Ir(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ir(e.j,e.m,r,null),ui(e,r)}$r(e)&&r!=Jr&&r!=Xr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Aa(t),t.L=!0,Rr(11))):(Ir(e.j,e.m,n,"[Invalid Chunked Response]"),oi(e),ai(e))}function ti(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jr:(n=Number(t.substring(n,r)),isNaN(n)?Xr:(r+=1)+n>t.length?Jr:(t=t.substr(r,n),e.C=r+n,t))}function ni(e){e.Y=Date.now()+e.P,ri(e,e.P)}function ri(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Or(Xt(e.eb,e),t)}function ii(e){e.B&&(Bt.clearTimeout(e.B),e.B=null)}function ai(e){0==e.l.G||e.I||Na(e.l,e)}function oi(e){ii(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,mr(e.W),Sr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ui(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Bi(n.i,e)))if(n.I=e.N,!e.J&&Bi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ca(n),ga(n)}Ia(n),Rr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Or(Xt(n.ab,n),6e3));if(1>=Vi(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Pa(n,11)}else if((e.J||n.g==e)&&Ca(n),!an(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(sn(l,"spdy")||sn(l,"quic")||sn(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ki(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=La(r,r.H?r.la:null,r.W),d.J){qi(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ii(p),ni(p)),r.g=d}else Ta(r);0<n.l.length&&ba(n)}else"stop"!=a[0]&&"close"!=a[0]||Pa(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Pa(n,7):ma(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Dr(4)}catch(a){}}function si(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qt(e)||"string"===typeof e)tn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(qt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(qt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ci(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ci)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function li(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Mt=Wr.prototype).setTimeout=function(e){this.P=e},Mt.gb=function(e){e=e.target;var t=this.L;t&&3==ha(e)?t.l():this.Ia(e)},Mt.Ia=function(e){try{if(e==this.g)e:{var t=ha(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||bn||this.g&&(this.h.h||this.g.ga()||da(this.g)))){this.I||4!=t||7==n||Dr(8==n||0>=r?3:2),ii(this);var i=this.g.ba();this.N=i;t:if($r(this)){var a=da(this.g);e="";var o=a.length,u=4==ha(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){oi(this),ai(this);var s="";break t}this.h.i=new Bt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Rr(12),oi(this),ai(this);break e}Ir(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ui(this,i)}this.U?(ei(this,t,s),bn&&this.i&&3==t&&(xr(this.V,this.W,"tick",this.fb),this.W.start())):(Ir(this.j,this.m,s,null),ui(this,s)),4==t&&oi(this),this.i&&!this.I&&(4==t?Na(this.l,this):(this.i=!1,ni(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),oi(this),ai(this)}}}catch(t){}},Mt.fb=function(){if(this.g){var e=ha(this.g),t=this.g.ga();this.C<t.length&&(ii(this),ei(this,e,t),this.i&&4!=e&&ni(this))}},Mt.cancel=function(){this.I=!0,oi(this)},Mt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Dr(3),Rr(17)),oi(this),this.o=2,ai(this)):ri(this,this.Y-e)},(Mt=ci.prototype).R=function(){li(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Mt.T=function(){return li(this),this.g.concat()},Mt.get=function(e,t){return fi(this.h,e)?this.h[e]:t},Mt.set=function(e,t){fi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Mt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var hi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function di(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof di){this.g=void 0!==t?t:e.g,vi(this,e.j),this.s=e.s,yi(this,e.i),mi(this,e.m),this.l=e.l,t=e.h;var n=new Ci;n.i=t.i,t.g&&(n.g=new ci(t.g),n.h=t.h),gi(this,n),this.o=e.o}else e&&(n=String(e).match(hi))?(this.g=!!t,vi(this,n[1]||"",!0),this.s=bi(n[2]||""),yi(this,n[3]||"",!0),mi(this,n[4]),this.l=bi(n[5]||"",!0),gi(this,n[6]||"",!0),this.o=bi(n[7]||"")):(this.g=!!t,this.h=new Ci(null,this.g))}function pi(e){return new di(e)}function vi(e,t,n){e.j=n?bi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yi(e,t,n){e.i=n?bi(t,!0):t}function mi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gi(e,t,n){t instanceof Ci?(e.h=t,function(e,t){t&&!e.j&&(Ni(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Di(this,t),Ri(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ei(t,Ai)),e.h=new Ci(t,e.g))}function ki(e,t,n){e.h.set(t,n)}function wi(e){return ki(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ei(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}di.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ei(t,Si,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ei(t,Si,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ei(n,"/"==n.charAt(0)?Ii:Ti,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ei(n,_i)),e.join("")};var Si=/[#\/\?@]/g,Ti=/[#\?:]/g,Ii=/[#\?]/g,Ai=/[#\?@]/g,_i=/#/g;function Ci(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ni(e){e.g||(e.g=new ci,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Di(e,t){Ni(e),t=Li(e,t),fi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&li(e)))}function Pi(e,t){return Ni(e),t=Li(e,t),fi(e.g.h,t)}function Ri(e,t,n){Di(e,t),0<n.length&&(e.i=null,e.g.set(Li(e,t),rn(n)),e.h+=n.length)}function Li(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mt=Ci.prototype).add=function(e,t){Ni(this),this.i=null,e=Li(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mt.forEach=function(e,t){Ni(this),this.g.forEach((function(n,r){tn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Mt.T=function(){Ni(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Mt.R=function(e){Ni(this);var t=[];if("string"===typeof e)Pi(this,e)&&(t=nn(t,this.g.get(Li(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nn(t,e[n])}return t},Mt.set=function(e,t){return Ni(this),this.i=null,Pi(this,e=Li(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Oi=Ce((function e(t,n){Ae(this,e),this.h=t,this.g=n}));function Fi(e){this.l=e||Ui,Bt.PerformanceNavigationTiming?e=0<(e=Bt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mi,Ui=10;function ji(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vi(e){return e.h?1:e.g?e.g.size:0}function Bi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zi(e,t){e.g?e.g.add(t):e.h=t}function qi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ki(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=we(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rn(e.i)}function Hi(){}function Wi(){this.g=new Hi}function Qi(e,t,n){var r=n||"";try{si(e,(function(e,n){var i=e;Kt(e)&&(i=ar(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xi(e){this.l=e.$b||null,this.j=e.ib||!1}function Ji(e,t){nr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fi.prototype.cancel=function(){if(this.i=Ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=we(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Hi.prototype.stringify=function(e){return Bt.JSON.stringify(e,void 0)},Hi.prototype.parse=function(e){return Bt.JSON.parse(e,void 0)},Yt(Xi,Ur),Xi.prototype.g=function(){return new Ji(this.l,this.j)},Xi.prototype.i=(Mi={},function(){return Mi}),Yt(Ji,nr);var Yi=0;function Zi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function $i(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ea(e)}function ea(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mt=Ji.prototype).open=function(e,t){if(this.readyState!=Yi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ea(this)},Mt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Bt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$i(this)),this.readyState=Yi},Mt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Bt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Mt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$i(this):ea(this),3==this.readyState&&Zi(this)}},Mt.Ua=function(e){this.g&&(this.response=this.responseText=e,$i(this))},Mt.Ta=function(e){this.g&&(this.response=e,$i(this))},Mt.ha=function(){this.g&&$i(this)},Mt.setRequestHeader=function(e,t){this.v.append(e,t)},Mt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ta=Bt.JSON.parse;function na(e){nr.call(this),this.headers=new ci,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ra,this.K=this.L=!1}Yt(na,nr);var ra="",ia=/^https?$/i,aa=["POST","PUT"];function oa(e){return"content-type"==e.toLowerCase()}function ua(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sa(e),la(e)}function sa(e){e.D||(e.D=!0,rr(e,"complete"),rr(e,"error"))}function ca(e){if(e.h&&"undefined"!=typeof Vt&&(!e.C[1]||4!=ha(e)||2!=e.ba()))if(e.v&&4==ha(e))gr(e.Fa,0,e);else if(rr(e,"readystatechange"),4==ha(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(hi)[1]||null;if(!a&&Bt.self&&Bt.self.location){var o=Bt.self.location.protocol;a=o.substr(0,o.length-1)}i=!ia.test(a?a.toLowerCase():"")}t=i}if(t)rr(e,"complete"),rr(e,"success");else{e.m=6;try{var u=2<ha(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",sa(e)}}finally{la(e)}}}function la(e,t){if(e.g){fa(e);var n=e.g,r=e.C[0]?zt:null;e.g=null,e.C=null,t||rr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fa(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Bt.clearTimeout(e.A),e.A=null)}function ha(e){return e.g?e.g.readyState:0}function da(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ra:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function pa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return hn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ki(e,t,n))}function va(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ya(e){this.za=0,this.l=[],this.h=new Tr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=va("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=va("baseRetryDelayMs",5e3,e),this.$a=va("retryDelaySeedMs",1e4,e),this.Ya=va("forwardChannelMaxRetries",2,e),this.ra=va("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Fi(e&&e.concurrentRequestLimit),this.Ca=new Wi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ma(e){if(ka(e),3==e.G){var t=e.V++,n=pi(e.F);ki(n,"SID",e.J),ki(n,"RID",t),ki(n,"TYPE","terminate"),xa(e,n),(t=new Wr(e,e.h,t,void 0)).K=2,t.v=wi(pi(n)),n=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(n=Bt.navigator.sendBeacon(t.v.toString(),"")),!n&&Bt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Oa(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ni(t)}Ra(e)}function ga(e){e.g&&(Aa(e),e.g.cancel(),e.g=null)}function ka(e){ga(e),e.u&&(Bt.clearTimeout(e.u),e.u=null),Ca(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bt.clearTimeout(e.m),e.m=null)}function wa(e,t){e.l.push(new Oi(e.Za++,t)),3==e.G&&ba(e)}function ba(e){ji(e.i)||e.m||(e.m=!0,hr(e.Ha,e),e.C=0)}function Ea(e,t){var n;n=t?t.m:e.V++;var r=pi(e.F);ki(r,"SID",e.J),ki(r,"RID",n),ki(r,"AID",e.U),xa(e,r),e.o&&e.s&&pa(r,e.o,e.s),n=new Wr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Sa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zi(e.i,n),Yr(n,r,t)}function xa(e,t){e.j&&si({},(function(e,n){ki(t,n,e)}))}function Sa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Xt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Qi(l,o,"req"+c+"_")}catch(ho){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ta(e){e.g||e.u||(e.Y=1,hr(e.Ga,e),e.A=0)}function Ia(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Or(Xt(e.Ga,e),Da(e,e.A)),e.A++,!0)}function Aa(e){null!=e.B&&(Bt.clearTimeout(e.B),e.B=null)}function _a(e){e.g=new Wr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=pi(e.oa);ki(t,"RID","rpc"),ki(t,"SID",e.J),ki(t,"CI",e.N?"0":"1"),ki(t,"AID",e.U),xa(e,t),ki(t,"TYPE","xmlhttp"),e.o&&e.s&&pa(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wi(pi(t)),n.s=null,n.U=!0,Zr(n,e)}function Ca(e){null!=e.v&&(Bt.clearTimeout(e.v),e.v=null)}function Na(e,t){var n=null;if(e.g==t){Ca(e),Aa(e),e.g=null;var r=2}else{if(!Bi(e.i,t))return;n=t.D,qi(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;rr(r=Cr(),new Lr(r,n,t,i)),ba(e)}else Ta(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Vi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Or(Xt(e.Ha,e,t),Da(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ia(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pa(e,5);break;case 4:Pa(e,10);break;case 3:Pa(e,6);break;default:Pa(e,2)}}function Da(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Pa(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Xt(e.jb,e);n||(n=new di("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||vi(n,"https"),wi(n)),function(e,t){var n=new Tr;if(Bt.Image){var r=new Image;r.onload=Jt(Gi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jt(Gi,n,r,"TestLoadImage: error",!1,t),r.onabort=Jt(Gi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jt(Gi,n,r,"TestLoadImage: timeout",!1,t),Bt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rr(2);e.G=0,e.j&&e.j.va(t),Ra(e),ka(e)}function Ra(e){e.G=0,e.I=-1,e.j&&(0==Ki(e.i).length&&0==e.l.length||(e.i.i.length=0,rn(e.l),e.l.length=0),e.j.ua())}function La(e,t,n){var r=function(e){return e instanceof di?pi(e):new di(e,void 0)}(n);if(""!=r.i)t&&yi(r,t+"."+r.i),mi(r,r.m);else{var i=Bt.location;r=function(e,t,n,r){var i=new di(null,void 0);return e&&vi(i,e),t&&yi(i,t),n&&mi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&hn(e.aa,(function(e,t){ki(r,t,e)})),t=e.D,n=e.sa,t&&n&&ki(r,t,n),ki(r,"VER",e.ma),xa(e,r),r}function Oa(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new na(new Xi({ib:!0})):new na(e.qa)).L=e.H,t}function Fa(){}function Ma(){if(kn&&!(10<=Number(Pn)))throw Error("Environmental error: no available transport.")}function Ua(e,t){nr.call(this),this.g=new ya(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!an(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!an(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ba(this)}function ja(e){qr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Va(){Kr.call(this),this.status=1}function Ba(e){this.g=e}(Mt=na.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Br.g(),this.C=this.u?jr(this.u):jr(Br),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ua(this,a)}e=n||"";var i=new ci(this.headers);r&&si(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=oa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Bt.FormData&&e instanceof Bt.FormData,!(0<=en(aa,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fa(this),0<this.B&&((this.K=function(e){return kn&&Nn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=gr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ua(this,a)}},Mt.pa=function(){"undefined"!=typeof Vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rr(this,"timeout"),this.abort(8))},Mt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,rr(this,"complete"),rr(this,"abort"),la(this))},Mt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),la(this,!0)),na.Z.M.call(this)},Mt.Fa=function(){this.s||(this.F||this.v||this.l?ca(this):this.cb())},Mt.cb=function(){ca(this)},Mt.ba=function(){try{return 2<ha(this)?this.g.status:-1}catch(Mi){return-1}},Mt.ga=function(){try{return this.g?this.g.responseText:""}catch(Mi){return""}},Mt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ta(t)}},Mt.Da=function(){return this.m},Mt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mt=ya.prototype).ma=8,Mt.G=1,Mt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Mt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Wr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?vn(n=dn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Sa(this,t,r),ki(i=pi(this.F),"RID",e),ki(i,"CVER",22),this.D&&ki(i,"X-HTTP-Session-Id",this.D),xa(this,i),this.o&&n&&pa(i,this.o,n),zi(this.i,t),this.Ra&&ki(i,"TYPE","init"),this.ja?(ki(i,"$req",r),ki(i,"SID","null"),t.$=!0,Yr(t,i,null)):Yr(t,i,r),this.G=2}}else 3==this.G&&(e?Ea(this,e):0==this.l.length||ji(this.i)||Ea(this))},Mt.Ga=function(){if(this.u=null,_a(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Or(Xt(this.bb,this),e)}},Mt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rr(10),ga(this),_a(this))},Mt.ab=function(){null!=this.v&&(this.v=null,ga(this),Ia(this),Rr(19))},Mt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rr(2)):(this.h.info("Failed to ping google.com"),Rr(1))},(Mt=Fa.prototype).xa=function(){},Mt.wa=function(){},Mt.va=function(){},Mt.ua=function(){},Mt.Oa=function(){},Ma.prototype.g=function(e,t){return new Ua(e,t)},Yt(Ua,nr),Ua.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hr(Xt(e.hb,e,t))),Rr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=La(e,null,e.W),ba(e)},Ua.prototype.close=function(){ma(this.g)},Ua.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,wa(this.g,t)}else this.v?((t={}).__data__=ar(e),wa(this.g,t)):wa(this.g,e)},Ua.prototype.M=function(){this.g.j=null,delete this.j,ma(this.g),delete this.g,Ua.Z.M.call(this)},Yt(ja,qr),Yt(Va,Kr),Yt(Ba,Fa),Ba.prototype.xa=function(){rr(this.g,"a")},Ba.prototype.wa=function(e){rr(this.g,new ja(e))},Ba.prototype.va=function(e){rr(this.g,new Va(e))},Ba.prototype.ua=function(){rr(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Ua.prototype.send=Ua.prototype.u,Ua.prototype.open=Ua.prototype.m,Ua.prototype.close=Ua.prototype.close,Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Mr.COMPLETE="complete",Vr.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",nr.prototype.listen=nr.prototype.N,na.prototype.listenOnce=na.prototype.O,na.prototype.getLastError=na.prototype.La,na.prototype.getLastErrorCode=na.prototype.Da,na.prototype.getStatus=na.prototype.ba,na.prototype.getResponseJson=na.prototype.Qa,na.prototype.getResponseText=na.prototype.ga,na.prototype.send=na.prototype.ea;var za=jt.createWebChannelTransport=function(){return new Ma},qa=jt.getStatEventTarget=function(){return Cr()},Ka=jt.ErrorCode=Fr,Ha=jt.EventType=Mr,Wa=jt.Event=Ar,Qa=jt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ga=jt.FetchXmlHttpFactory=Xi,Xa=jt.WebChannel=Vr,Ja=jt.XhrIo=na,Ya="@firebase/firestore",Za=function(){function e(t){Ae(this,e),this.uid=t}return Ce(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Za.UNAUTHENTICATED=new Za(null),Za.GOOGLE_CREDENTIALS=new Za("google-credentials-uid"),Za.FIRST_PARTY=new Za("first-party-uid"),Za.MOCK_USER=new Za("mock-user");var $a="9.6.5",eo=new ct("@firebase/firestore");function to(){return eo.logLevel}function no(e){if(eo.logLevel<=et.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ao);eo.debug.apply(eo,["Firestore (".concat($a,"): ").concat(e)].concat(Ie(i)))}}function ro(e){if(eo.logLevel<=et.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ao);eo.error.apply(eo,["Firestore (".concat($a,"): ").concat(e)].concat(Ie(i)))}}function io(e){if(eo.logLevel<=et.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ao);eo.warn.apply(eo,["Firestore (".concat($a,"): ").concat(e)].concat(Ie(i)))}}function ao(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($a,") INTERNAL ASSERTION FAILED: ")+e;throw ro(t),new Error(t)}function uo(e,t){e||oo()}function so(e,t){return e}var co={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lo=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ce(n)}(je),fo=Ce((function e(){var t=this;Ae(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ho=Ce((function e(t,n){Ae(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),po=function(){function e(){Ae(this,e)}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Za.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vo=function(){function e(t){Ae(this,e),this.token=t,this.changeListener=null}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yo=function(){function e(t){Ae(this,e),this.t=t,this.currentUser=Za.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ce(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new fo;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new fo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=o;e.enqueueRetryable(a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){no("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(no("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fo)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(no("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(uo("string"==typeof n.accessToken),new ho(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return uo(null===e||"string"==typeof e),new Za(e)}}]),e}(),mo=Ce((function e(t,n,r){Ae(this,e),this.type="FirstParty",this.user=Za.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),go=function(){function e(t,n,r){Ae(this,e),this.h=t,this.l=n,this.m=r}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(new mo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Za.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ko=Ce((function e(t){Ae(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),wo=function(){function e(t){Ae(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Ce(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&no("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){no("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):no("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(uo("string"==typeof e.token),new ko(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),bo=function(){function e(t,n){var r=this;Ae(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ce(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Eo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}bo.I=-1;var xo=function(){function e(){Ae(this,e)}return Ce(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Eo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function So(e,t){return e<t?-1:e>t?1:0}function To(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Io(e){return e+"\0"}var Ao=function(){function e(t,n){if(Ae(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lo(co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lo(co.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lo(co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lo(co.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ce(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?So(this.nanoseconds,e.nanoseconds):So(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_o=function(){function e(t){Ae(this,e),this.timestamp=t}return Ce(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ao(0,0))}}]),e}();function Co(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function No(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Do(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Po=function(){function e(t,n,r){Ae(this,e),void 0===n?n=0:n>t.length&&oo(),void 0===r?r=t.length-n:r>t.length-n&&oo(),this.segments=t,this.offset=n,this.len=r}return Ce(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ro=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new lo(co.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ie(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Po),Lo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oo=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Lo.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new lo(co.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new lo(co.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lo(co.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new lo(co.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Po),Fo=function(){function e(t){Ae(this,e),this.fields=t,t.sort(Oo.comparator)}return Ce(e,[{key:"covers",value:function(e){var t,n=we(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return To(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Mo=function(e){function t(e){Ae(this,t),this.binaryString=e}return Ce(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return So(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mo.EMPTY_BYTE_STRING=new Mo("");var Uo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(e){if(uo(!!e),"string"==typeof e){var t=0,n=Uo.exec(e);if(uo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vo(e.seconds),nanos:Vo(e.nanos)}}function Vo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bo(e){return"string"==typeof e?Mo.fromBase64String(e):Mo.fromUint8Array(e)}function zo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qo(e){var t=e.mapValue.fields.__previous_value__;return zo(t)?qo(t):t}function Ko(e){var t=jo(e.mapValue.fields.__local_write_time__.timestampValue);return new Ao(t.seconds,t.nanos)}function Ho(e){return null==e}function Wo(e){return 0===e&&1/e==-1/0}function Qo(e){return"number"==typeof e&&Number.isInteger(e)&&!Wo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Go=function(){function e(t){Ae(this,e),this.path=t}return Ce(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Ro.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ro.fromString(t))}},{key:"fromName",value:function(t){return new e(Ro.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Ro.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ro(t.slice()))}}]),e}();function Xo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zo(e)?4:10:oo()}function Jo(e,t){if(e===t)return!0;var n=Xo(e);if(n!==Xo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ko(e).isEqual(Ko(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jo(e.timestampValue),r=jo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bo(e.bytesValue).isEqual(Bo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Vo(e.geoPointValue.latitude)===Vo(t.geoPointValue.latitude)&&Vo(e.geoPointValue.longitude)===Vo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Vo(e.integerValue)===Vo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Vo(e.doubleValue),r=Vo(t.doubleValue);return n===r?Wo(n)===Wo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return To(e.arrayValue.values||[],t.arrayValue.values||[],Jo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Co(n)!==Co(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jo(n[i],r[i])))return!1;return!0}(e,t);default:return oo()}}function Yo(e,t){return void 0!==(e.values||[]).find((function(e){return Jo(e,t)}))}function Zo(e,t){if(e===t)return 0;var n=Xo(e),r=Xo(t);if(n!==r)return So(n,r);switch(n){case 0:return 0;case 1:return So(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Vo(e.integerValue||e.doubleValue),r=Vo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $o(e.timestampValue,t.timestampValue);case 4:return $o(Ko(e),Ko(t));case 5:return So(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Bo(e),r=Bo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=So(n[i],r[i]);if(0!==a)return a}return So(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=So(Vo(e.latitude),Vo(t.latitude));return 0!==n?n:So(Vo(e.longitude),Vo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Zo(n[i],r[i]);if(a)return a}return So(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=So(r[o],a[o]);if(0!==u)return u;var s=Zo(n[r[o]],i[a[o]]);if(0!==s)return s}return So(r.length,a.length)}(e.mapValue,t.mapValue);default:throw oo()}}function $o(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return So(e,t);var n=jo(e),r=jo(t),i=So(n.seconds,r.seconds);return 0!==i?i:So(n.nanos,r.nanos)}function eu(e){return tu(e)}function tu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Go.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=we(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=tu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=we(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(tu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):oo();var t,n}function nu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ru(e){return!!e&&"integerValue"in e}function iu(e){return!!e&&"arrayValue"in e}function au(e){return!!e&&"nullValue"in e}function ou(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uu(e){return!!e&&"mapValue"in e}function su(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return No(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=su(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=su(e.arrayValue.values[r]);return n}return Object.assign({},e)}var cu=function(){function e(t){Ae(this,e),this.value=t}return Ce(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!uu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}},{key:"setAll",value:function(e){var t=this,n=Oo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=su(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());uu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Jo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];uu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){No(t,(function(t,n){return e[t]=n}));var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(su(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function lu(e){var t=[];return No(e.fields,(function(e,n){var r=new Oo([e]);if(uu(n)){var i=lu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=we(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Fo(t)}var fu=function(){function e(t,n,r,i,a){Ae(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Ce(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=cu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=cu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_o.min(),cu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cu.empty(),2)}}]),e}(),hu=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ae(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function du(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new hu(e,t,n,r,i,a,o)}function pu(e){var t=so(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+eu(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ho(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Au(t.startAt)),t.endAt&&(n+="|ub:",n+=Au(t.endAt)),t.R=n}return t.R}function vu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Cu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Jo(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Du(e.startAt,t.startAt)&&Du(e.endAt,t.endAt)}function yu(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var mu=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Zo(t,this.value)):null!==t&&Xo(this.value)===Xo(t)&&this.v(Zo(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return oo()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new gu(e,t,r):"array-contains"===t?new Eu(e,r):"in"===t?new xu(e,r):"not-in"===t?new Su(e,r):"array-contains-any"===t?new Tu(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new ku(e,n):new wu(e,n)}}]),n}(function(){return Ce((function e(){Ae(this,e)}))}());var gu=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this,e,r,i)).key=Go.fromName(i.referenceValue),a}return Ce(n,[{key:"matches",value:function(e){var t=Go.comparator(e.key,this.key);return this.v(t)}}]),n}(mu),ku=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,"in",r)).keys=bu("in",r),i}return Ce(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mu),wu=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,"not-in",r)).keys=bu("not-in",r),i}return Ce(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mu);function bu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Go.fromName(e.referenceValue)}))}var Eu=function(e){be(n,e);var t=Te(n);function n(e,r){return Ae(this,n),t.call(this,e,"array-contains",r)}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return iu(t)&&Yo(t.arrayValue,this.value)}}]),n}(mu),xu=function(e){be(n,e);var t=Te(n);function n(e,r){return Ae(this,n),t.call(this,e,"in",r)}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yo(this.value.arrayValue,t)}}]),n}(mu),Su=function(e){be(n,e);var t=Te(n);function n(e,r){return Ae(this,n),t.call(this,e,"not-in",r)}return Ce(n,[{key:"matches",value:function(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yo(this.value.arrayValue,t)}}]),n}(mu),Tu=function(e){be(n,e);var t=Te(n);function n(e,r){return Ae(this,n),t.call(this,e,"array-contains-any",r)}return Ce(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!iu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yo(t.value.arrayValue,e)}))}}]),n}(mu),Iu=Ce((function e(t,n){Ae(this,e),this.position=t,this.before=n}));function Au(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return eu(e)})).join(","))}var _u=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ae(this,e),this.field=t,this.dir=n}));function Cu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Nu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Go.comparator(Go.fromName(o.referenceValue),n.key):Zo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Du(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jo(e.position[n],t.position[n]))return!1;return!0}var Pu=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ae(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function Ru(e,t,n,r,i,a,o,u){return new Pu(e,t,n,r,i,a,o,u)}function Lu(e){return new Pu(e)}function Ou(e){return!Ho(e.limit)&&"F"===e.limitType}function Fu(e){return!Ho(e.limit)&&"L"===e.limitType}function Mu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Uu(e){var t,n=we(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ju(e){return null!==e.collectionGroup}function Vu(e){var t=so(e);if(null===t.S){t.S=[];var n=Uu(t),r=Mu(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new _u(n)),t.S.push(new _u(Oo.keyField(),"asc"));else{var i,a=!1,o=we(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new _u(Oo.keyField(),s))}}}return t.S}function Bu(e){var t=so(e);if(!t.D)if("F"===t.limitType)t.D=du(t.path,t.collectionGroup,Vu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=we(Vu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new _u(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Iu(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Iu(t.startAt.position,!t.startAt.before):null;t.D=du(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function zu(e,t,n){return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qu(e,t){return vu(Bu(e),Bu(t))&&e.limitType===t.limitType}function Ku(e){return"".concat(pu(Bu(e)),"|lt:").concat(e.limitType)}function Hu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(eu(t.value));var t})).join(", "),"]")),Ho(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Au(e.startAt)),e.endAt&&(t+=", endAt: "+Au(e.endAt)),"Target(".concat(t,")")}(Bu(e)),"; limitType=").concat(e.limitType,")")}function Wu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Go.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=we(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=we(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Nu(e.startAt,Vu(e),t))&&(!e.endAt||!Nu(e.endAt,Vu(e),t))}(e,t)}function Qu(e){return function(t,n){var r,i=!1,a=we(Vu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Gu(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Gu(e,t,n){var r=e.field.isKeyField()?Go.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zo(r,i):oo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return oo()}}function Xu(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wo(t)?"-0":t}}function Ju(e){return{integerValue:""+e}}function Yu(e,t){return Qo(t)?Ju(t):Xu(e,t)}var Zu=Ce((function e(){Ae(this,e),this._=void 0}));function $u(e,t,n){return e instanceof ns?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rs?is(e,t):e instanceof as?os(e,t):function(e,t){var n=ts(e,t),r=ss(n)+ss(e.N);return ru(n)&&ru(e.N)?Ju(r):Xu(e.k,r)}(e,t)}function es(e,t,n){return e instanceof rs?is(e,t):e instanceof as?os(e,t):n}function ts(e,t){return e instanceof us?ru(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ns=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n)}(Zu),rs=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).elements=e,r}return Ce(n)}(Zu);function is(e,t){var n,r=cs(t),i=we(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Jo(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var as=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).elements=e,r}return Ce(n)}(Zu);function os(e,t){var n,r=cs(t),i=we(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Jo(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var us=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).k=e,i.N=r,i}return Ce(n)}(Zu);function ss(e){return Vo(e.integerValue||e.doubleValue)}function cs(e){return iu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ls=Ce((function e(t,n){Ae(this,e),this.field=t,this.transform=n}));var fs=Ce((function e(t,n){Ae(this,e),this.version=t,this.transformResults=n})),hs=function(){function e(t,n){Ae(this,e),this.updateTime=t,this.exists=n}return Ce(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ds(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ps=Ce((function e(){Ae(this,e)}));function vs(e,t,n){e instanceof ws?function(e,t,n){var r=e.value.clone(),i=xs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bs?function(e,t,n){if(ds(e.precondition,t)){var r=xs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Es(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ys(e,t,n){e instanceof ws?function(e,t,n){if(ds(e.precondition,t)){var r=e.value.clone(),i=Ss(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ks(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bs?function(e,t,n){if(ds(e.precondition,t)){var r=Ss(e.fieldTransforms,n,t),i=t.data;i.setAll(Es(e)),i.setAll(r),t.convertToFoundDocument(ks(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ds(e.precondition,t)&&t.convertToNoDocument(_o.min())}(e,t)}function ms(e,t){var n,r=null,i=we(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ts(a.transform,o||null);null!=u&&(null==r&&(r=cu.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function gs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&To(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rs&&t instanceof rs||e instanceof as&&t instanceof as?To(e.elements,t.elements,Jo):e instanceof us&&t instanceof us?Jo(e.N,t.N):e instanceof ns&&t instanceof ns}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ks(e){return e.isFoundDocument()?e.version:_o.min()}var ws=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ae(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ce(n)}(ps),bs=function(e){be(n,e);var t=Te(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ae(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ce(n)}(ps);function Es(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xs(e,t,n){var r=new Map;uo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,es(o,u,n[i]))}return r}function Ss(e,t,n){var r,i=new Map,a=we(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,$u(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ts,Is,As=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ce(n)}(ps),_s=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ce(n)}(ps),Cs=Ce((function e(t){Ae(this,e),this.count=t}));function Ns(e){switch(e){default:return oo();case co.CANCELLED:case co.UNKNOWN:case co.DEADLINE_EXCEEDED:case co.RESOURCE_EXHAUSTED:case co.INTERNAL:case co.UNAVAILABLE:case co.UNAUTHENTICATED:return!1;case co.INVALID_ARGUMENT:case co.NOT_FOUND:case co.ALREADY_EXISTS:case co.PERMISSION_DENIED:case co.FAILED_PRECONDITION:case co.ABORTED:case co.OUT_OF_RANGE:case co.UNIMPLEMENTED:case co.DATA_LOSS:return!0}}function Ds(e){if(void 0===e)return ro("GRPC error has no .code"),co.UNKNOWN;switch(e){case Ts.OK:return co.OK;case Ts.CANCELLED:return co.CANCELLED;case Ts.UNKNOWN:return co.UNKNOWN;case Ts.DEADLINE_EXCEEDED:return co.DEADLINE_EXCEEDED;case Ts.RESOURCE_EXHAUSTED:return co.RESOURCE_EXHAUSTED;case Ts.INTERNAL:return co.INTERNAL;case Ts.UNAVAILABLE:return co.UNAVAILABLE;case Ts.UNAUTHENTICATED:return co.UNAUTHENTICATED;case Ts.INVALID_ARGUMENT:return co.INVALID_ARGUMENT;case Ts.NOT_FOUND:return co.NOT_FOUND;case Ts.ALREADY_EXISTS:return co.ALREADY_EXISTS;case Ts.PERMISSION_DENIED:return co.PERMISSION_DENIED;case Ts.FAILED_PRECONDITION:return co.FAILED_PRECONDITION;case Ts.ABORTED:return co.ABORTED;case Ts.OUT_OF_RANGE:return co.OUT_OF_RANGE;case Ts.UNIMPLEMENTED:return co.UNIMPLEMENTED;case Ts.DATA_LOSS:return co.DATA_LOSS;default:return oo()}}(Is=Ts||(Ts={}))[Is.OK=0]="OK",Is[Is.CANCELLED=1]="CANCELLED",Is[Is.UNKNOWN=2]="UNKNOWN",Is[Is.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Is[Is.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Is[Is.NOT_FOUND=5]="NOT_FOUND",Is[Is.ALREADY_EXISTS=6]="ALREADY_EXISTS",Is[Is.PERMISSION_DENIED=7]="PERMISSION_DENIED",Is[Is.UNAUTHENTICATED=16]="UNAUTHENTICATED",Is[Is.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Is[Is.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Is[Is.ABORTED=10]="ABORTED",Is[Is.OUT_OF_RANGE=11]="OUT_OF_RANGE",Is[Is.UNIMPLEMENTED=12]="UNIMPLEMENTED",Is[Is.INTERNAL=13]="INTERNAL",Is[Is.UNAVAILABLE=14]="UNAVAILABLE",Is[Is.DATA_LOSS=15]="DATA_LOSS";var Ps=function(){function e(t,n){Ae(this,e),this.comparator=t,this.root=n||Ls.EMPTY}return Ce(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ls.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ls.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Rs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Rs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Rs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Rs(this.root,e,this.comparator,!0)}}]),e}(),Rs=function(){function e(t,n,r,i){Ae(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ce(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ls=function(){function e(t,n,r,i,a){Ae(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ce(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw oo();if(this.right.isRed())throw oo();var e=this.left.check();if(e!==this.right.check())throw oo();return e+(this.isRed()?0:1)}}]),e}();Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new(function(){function e(){Ae(this,e),this.size=0}return Ce(e,[{key:"key",get:function(){throw oo()}},{key:"value",get:function(){throw oo()}},{key:"color",get:function(){throw oo()}},{key:"left",get:function(){throw oo()}},{key:"right",get:function(){throw oo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ls(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Os=function(){function e(t){Ae(this,e),this.comparator=t,this.data=new Ps(this.comparator)}return Ce(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fs=function(){function e(t){Ae(this,e),this.iter=t}return Ce(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Ms=new Ps(Go.comparator);function Us(){return Ms}var js=new Ps(Go.comparator);function Vs(){return js}var Bs=new Ps(Go.comparator);function zs(){return Bs}var qs=new Os(Go.comparator);function Ks(){for(var e=qs,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Hs=new Os(So);function Ws(){return Hs}var Qs=function(){function e(t,n,r,i,a){Ae(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ce(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Gs.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_o.min(),r,Ws(),Us(),Ks())}}]),e}(),Gs=function(){function e(t,n,r,i,a){Ae(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ce(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Mo.EMPTY_BYTE_STRING,n,Ks(),Ks(),Ks())}}]),e}(),Xs=Ce((function e(t,n,r,i){Ae(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Js=Ce((function e(t,n){Ae(this,e),this.targetId=t,this.M=n})),Ys=Ce((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ae(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zs=function(){function e(){Ae(this,e),this.F=0,this.L=tc(),this.B=Mo.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Ce(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Ks(),t=Ks(),n=Ks();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:oo()}})),new Gs(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=tc()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),$s=function(){function e(t){Ae(this,e),this.et=t,this.nt=new Map,this.st=Us(),this.it=ec(),this.rt=new Os(So)}return Ce(e,[{key:"ot",value:function(e){var t,n=we(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=we(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:oo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(yu(i))if(0===n){var a=new Go(i.path);this.at(t,a,fu.newNoDocument(a,_o.min()))}else uo(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&yu(a.target)){var o=new Go(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,fu.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Ks();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Qs(e,n,this.rt,this.st,r);return this.st=Us(),this.it=ec(),this.rt=new Os(So),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Zs,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Os(So),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||no("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Zs),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function ec(){return new Ps(Go.comparator)}function tc(){return new Ps(Go.comparator)}var nc={asc:"ASCENDING",desc:"DESCENDING"},rc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ic=Ce((function e(t,n){Ae(this,e),this.databaseId=t,this.C=n}));function ac(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oc(e,t){return e.C?t.toBase64():t.toUint8Array()}function uc(e,t){return ac(e,t.toTimestamp())}function sc(e){return uo(!!e),_o.fromTimestamp(function(e){var t=jo(e);return new Ao(t.seconds,t.nanos)}(e))}function cc(e,t){return function(e){return new Ro(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lc(e){var t=Ro.fromString(e);return uo(Oc(t)),t}function fc(e,t){return cc(e.databaseId,t.path)}function hc(e,t){var n=lc(t);if(n.get(1)!==e.databaseId.projectId)throw new lo(co.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lo(co.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Go(yc(n))}function dc(e,t){return cc(e.databaseId,t)}function pc(e){var t=lc(e);return 4===t.length?Ro.emptyPath():yc(t)}function vc(e){return new Ro(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yc(e){return uo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function mc(e,t,n){return{name:fc(e,t),fields:n.value.mapValue.fields}}function gc(e,t,n){var r=hc(e,t.name),i=sc(t.updateTime),a=new cu({mapValue:{fields:t.fields}}),o=fu.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function kc(e,t){return"found"in t?function(e,t){uo(!!t.found),t.found.name,t.found.updateTime;var n=hc(e,t.found.name),r=sc(t.found.updateTime),i=new cu({mapValue:{fields:t.found.fields}});return fu.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){uo(!!t.missing),uo(!!t.readTime);var n=hc(e,t.missing),r=sc(t.readTime);return fu.newNoDocument(n,r)}(e,t):oo()}function wc(e,t){var n;if(t instanceof ws)n={update:mc(e,t.key,t.value)};else if(t instanceof As)n={delete:fc(e,t.key)};else if(t instanceof bs)n={update:mc(e,t.key,t.data),updateMask:Lc(t.fieldMask)};else{if(!(t instanceof _s))return oo();n={verify:fc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ns)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof as)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof us)return{fieldPath:t.field.canonicalString(),increment:n.N};throw oo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:uc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:oo()}(e,t.precondition)),n}function bc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?hs.updateTime(sc(e.updateTime)):void 0!==e.exists?hs.exists(e.exists):hs.none()}(t.currentDocument):hs.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)uo("REQUEST_TIME"===t.setToServerValue),n=new ns;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new rs(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new as(i)}else"increment"in t?n=new us(e,t.increment):oo();var a=Oo.fromServerFormat(t.fieldPath);return new ls(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hc(e,t.update.name),a=new cu({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Fo(t.map((function(e){return Oo.fromServerFormat(e)})))}(t.updateMask);return new bs(i,a,o,n,r)}return new ws(i,a,n,r)}if(t.delete){var u=hc(e,t.delete);return new As(u,n)}if(t.verify){var s=hc(e,t.verify);return new _s(s,n)}return oo()}function Ec(e,t){return{documents:[dc(e,t.path)]}}function xc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ou(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NAN"}};if(au(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ou(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NOT_NAN"}};if(au(e.value))return{unaryFilter:{field:Nc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(e.field),op:Cc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Nc(e.field),direction:_c(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Ho(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Ic(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ic(t.endAt)),n}function Sc(e){var t=pc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){uo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Tc(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new _u(Dc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ho(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ac(n.startAt));var l=null;return n.endAt&&(l=Ac(n.endAt)),Ru(t,i,u,o,s,"F",c,l)}function Tc(e){return e?void 0!==e.unaryFilter?[Rc(e)]:void 0!==e.fieldFilter?[Pc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Tc(e)})).reduce((function(e,t){return e.concat(t)})):oo():[]}function Ic(e){return{before:e.before,values:e.position}}function Ac(e){var t=!!e.before,n=e.values||[];return new Iu(n,t)}function _c(e){return nc[e]}function Cc(e){return rc[e]}function Nc(e){return{fieldPath:e.canonicalString()}}function Dc(e){return Oo.fromServerFormat(e.fieldPath)}function Pc(e){return mu.create(Dc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Rc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dc(e.unaryFilter.field);return mu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dc(e.unaryFilter.field);return mu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dc(e.unaryFilter.field);return mu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dc(e.unaryFilter.field);return mu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oo()}}function Lc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Oc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Fc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Uc(t)),t=Mc(e.get(n),t);return Uc(t)}function Mc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Uc(e){return e+"\x01\x01"}function jc(e){var t=e.length;if(uo(t>=2),2===t)return uo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ro.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&oo(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:oo()}a=o+2}return new Ro(r)}var Vc=Ce((function e(t,n){Ae(this,e),this.seconds=t,this.nanoseconds=n})),Bc=Ce((function e(t,n,r){Ae(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Bc.store="owner",Bc.key="owner";var zc=Ce((function e(t,n,r){Ae(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));zc.store="mutationQueues",zc.keyPath="userId";var qc=Ce((function e(t,n,r,i,a){Ae(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));qc.store="mutations",qc.keyPath="batchId",qc.userMutationsIndex="userMutationsIndex",qc.userMutationsKeyPath=["userId","batchId"];var Kc=function(){function e(){Ae(this,e)}return Ce(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Fc(t)]}},{key:"key",value:function(e,t,n){return[e,Fc(t),n]}}]),e}();Kc.store="documentMutations",Kc.PLACEHOLDER=new Kc;var Hc=Ce((function e(t,n){Ae(this,e),this.path=t,this.readTime=n})),Wc=Ce((function e(t,n){Ae(this,e),this.path=t,this.version=n})),Qc=Ce((function e(t,n,r,i,a,o){Ae(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Qc.store="remoteDocuments",Qc.readTimeIndex="readTimeIndex",Qc.readTimeIndexPath="readTime",Qc.collectionReadTimeIndex="collectionReadTimeIndex",Qc.collectionReadTimeIndexPath=["parentPath","readTime"];var Gc=Ce((function e(t){Ae(this,e),this.byteSize=t}));Gc.store="remoteDocumentGlobal",Gc.key="remoteDocumentGlobalKey";var Xc=Ce((function e(t,n,r,i,a,o,u){Ae(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Xc.store="targets",Xc.keyPath="targetId",Xc.queryTargetsIndexName="queryTargetsIndex",Xc.queryTargetsKeyPath=["canonicalId","targetId"];var Jc=Ce((function e(t,n,r){Ae(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Jc.store="targetDocuments",Jc.keyPath=["targetId","path"],Jc.documentTargetsIndex="documentTargetsIndex",Jc.documentTargetsKeyPath=["path","targetId"];var Yc=Ce((function e(t,n,r,i){Ae(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Yc.key="targetGlobalKey",Yc.store="targetGlobal";var Zc=Ce((function e(t,n){Ae(this,e),this.collectionId=t,this.parent=n}));Zc.store="collectionParents",Zc.keyPath=["collectionId","parent"];var $c=Ce((function e(t,n,r,i){Ae(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));$c.store="clientMetadata",$c.keyPath="clientId";var el=Ce((function e(t,n,r){Ae(this,e),this.bundleId=t,this.createTime=n,this.version=r}));el.store="bundles",el.keyPath="bundleId";var tl=Ce((function e(t,n,r){Ae(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));tl.store="namedQueries",tl.keyPath="name";var nl=[zc.store,qc.store,Kc.store,Qc.store,Xc.store,Bc.store,Yc.store,Jc.store].concat([$c.store]).concat([Gc.store]).concat([Zc.store]).concat([el.store,tl.store]),rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",il=function(){function e(){Ae(this,e),this.onCommittedListeners=[]}return Ce(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),al=function(){function e(t){var n=this;Ae(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ce(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&oo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=we(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ol=function(){function e(t,n){var r=this;Ae(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new fo,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new cl(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=pl(e.target.error);r.It.reject(new cl(t,n))}}return Ce(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(no("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fl(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new cl(n,t)}}}]),e}(),ul=function(){function e(t,n,r){Ae(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(Me())&&ro("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ce(e,[{key:"Ct",value:function(){var e=a(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return no("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new cl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new lo(co.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new lo(co.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new cl(t,n))},i.onupgradeneeded=function(e){no("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){no("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=a(d().mark((function e(t,n,r,i){var a,o,u,s,c=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(d().mark((function e(){var n,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=ol.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),al.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,no("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return no("SimpleDb","Removing database:",e),hl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.vt())return!0;var t=Me(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/wheres-waldo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),sl=function(){function e(t){Ae(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Ce(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return hl(this.$t.delete())}}]),e}(),cl=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,co.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ce(n)}(lo);function ll(e){return"IndexedDbTransactionError"===e.name}var fl=function(){function e(t){Ae(this,e),this.store=t}return Ce(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(no("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(no("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hl(n)}},{key:"add",value:function(e){return no("SimpleDb","ADD",this.store.name,e,e),hl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return hl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),no("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return no("SimpleDb","DELETE",this.store.name,e),hl(this.store.delete(e))}},{key:"count",value:function(){return no("SimpleDb","COUNT",this.store.name),hl(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){no("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new al((function(n,r){t.onerror=function(e){var t=pl(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new al((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new sl(i),o=t(i.primaryKey,i.value,a);if(o instanceof al){var u=o.catch((function(e){return a.done(),al.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return al.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function hl(e){return new al((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pl(e.target.error);n(t)}}))}var dl=!1;function pl(e){var t=ul.bt(Me());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new lo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dl||(dl=!0,setTimeout((function(){throw r}),0)),r}}return e}var vl=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Ce(n)}(il);function yl(e,t){var n=so(e);return ul.Dt(n.Wt,t)}var ml=function(){function e(t,n,r,i){Ae(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ce(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vs(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=we(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ys(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=we(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ys(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_o.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ks())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(function(e,t){return gs(e,t)}))&&To(this.baseMutations,e.baseMutations,(function(e,t){return gs(e,t)}))}}]),e}(),gl=function(){function e(t,n,r,i){Ae(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ce(e,null,[{key:"from",value:function(t,n,r){uo(t.mutations.length===r.length);for(var i=zs(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_o.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_o.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mo.EMPTY_BYTE_STRING;Ae(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ce(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wl=Ce((function e(t){Ae(this,e),this.Gt=t}));function bl(e,t){if(t.document)return gc(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Go.fromSegments(t.noDocument.path),r=Il(t.noDocument.readTime),i=fu.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Go.fromSegments(t.unknownDocument.path),o=Il(t.unknownDocument.version);return fu.newUnknownDocument(a,o)}return oo()}function El(e,t,n){var r=xl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:fc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ac(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Qc(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Tl(t.version),c=t.hasCommittedMutations;return new Qc(null,new Hc(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Tl(t.version);return new Qc(new Wc(l,f),null,null,!0,r,i)}return oo()}function xl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sl(e){var t=new Ao(e[0],e[1]);return _o.fromTimestamp(t)}function Tl(e){var t=e.toTimestamp();return new Vc(t.seconds,t.nanoseconds)}function Il(e){var t=new Ao(e.seconds,e.nanoseconds);return _o.fromTimestamp(t)}function Al(e,t){for(var n=(t.baseMutations||[]).map((function(t){return bc(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return bc(e.Gt,t)})),u=Ao.fromMillis(t.localWriteTimeMs);return new ml(t.batchId,u,n,o)}function _l(e){var t,n,r=Il(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Il(e.lastLimboFreeSnapshotVersion):_o.min();return void 0!==e.query.documents?(uo(1===(n=e.query).documents.length),t=Bu(Lu(pc(n.documents[0])))):t=function(e){return Bu(Sc(e))}(e.query),new kl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Mo.fromBase64String(e.resumeToken))}function Cl(e,t){var n,r=Tl(t.snapshotVersion),i=Tl(t.lastLimboFreeSnapshotVersion);n=yu(t.target)?Ec(e.Gt,t.target):xc(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Xc(t.targetId,pu(t.target),r,a,t.sequenceNumber,i,n)}function Nl(e){var t=Sc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zu(t,t.limit,"L"):t}var Dl=function(){function e(){Ae(this,e)}return Ce(e,[{key:"getBundleMetadata",value:function(e,t){return Pl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Il(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Pl(e).put({bundleId:(n=t).id,createTime:Tl(sc(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Rl(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Nl(t.bundledQuery),readTime:Il(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Rl(e).put(function(e){return{name:e.name,readTime:Tl(sc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Pl(e){return yl(e,el.store)}function Rl(e){return yl(e,tl.store)}var Ll=function(){function e(){Ae(this,e),this.zt=new Ol}return Ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),al.resolve()}},{key:"getCollectionParents",value:function(e,t){return al.resolve(this.zt.getEntries(t))}}]),e}(),Ol=function(){function e(){Ae(this,e),this.index={}}return Ce(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Os(Ro.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Os(Ro.comparator)).toArray()}}]),e}(),Fl=function(){function e(){Ae(this,e),this.Ht=new Ol}return Ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Fc(i)};return Ml(e).put(a)}return al.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Io(t),""],!1,!0);return Ml(e).Bt(r).next((function(e){var r,i=we(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(jc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Ml(e){return yl(e,Zc.store)}var Ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jl=function(){function e(t,n,r){Ae(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ce(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Vl(e,t,n){var r=e.store(qc.store),i=e.store(Kc.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){uo(1===u)})));var c,l=[],f=we(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Kc.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return al.waitFor(a).next((function(){return l}))}function Bl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw oo();t=e.noDocument}return JSON.stringify(t).length}jl.DEFAULT_COLLECTION_PERCENTILE=10,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jl.DEFAULT=new jl(41943040,jl.DEFAULT_COLLECTION_PERCENTILE,jl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jl.DISABLED=new jl(-1,0,0);var zl=function(){function e(t,n,r,i){Ae(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Ce(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).jt({index:qc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Hl(e),o=Kl(e);return o.add({}).next((function(u){uo("number"==typeof u);var s,c=new ml(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wc(e.Gt,t)})),i=n.mutations.map((function(t){return wc(e.Gt,t)}));return new qc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Os((function(e,t){return So(e.canonicalString(),t.canonicalString())})),d=we(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Kc.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Kc.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),al.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Kl(e).get(t).next((function(e){return e?(uo(e.userId===n.userId),Al(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?al.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Kl(e).jt({index:qc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(uo(t.batchId>=r),a=Al(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kl(e).jt({index:qc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kl(e).Bt(qc.userMutationsIndex,n).next((function(e){return e.map((function(e){return Al(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Kc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Hl(e).jt({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=jc(c);if(s===n.userId&&t.path.isEqual(h))return Kl(e).get(l).next((function(e){if(!e)throw oo();uo(e.userId===n.userId),a.push(Al(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Os(So),i=[];return t.forEach((function(t){var a=Kc.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Hl(e).jt({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=jc(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),al.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Kc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Os(So);return Hl(e).jt({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=jc(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kl(e).get(t).next((function(e){if(null===e)throw oo();uo(e.userId===n.userId),r.push(Al(n.k,e))})))})),al.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Vl(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),al.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return al.resolve();var r=IDBKeyRange.lowerBound(Kc.prefixForUser(t.userId)),i=[];return Hl(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=jc(e[1]);i.push(a)}else r.done()})).next((function(){uo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ql(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Wl(e).get(this.userId).next((function(e){return e||new zc(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return uo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ql(e,t,n){var r=Kc.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Hl(e).jt({range:a,Kt:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Kl(e){return yl(e,qc.store)}function Hl(e){return yl(e,Kc.store)}function Wl(e){return yl(e,zc.store)}var Ql=function(){function e(t){Ae(this,e),this.se=t}return Ce(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Gl=function(){function e(t,n){Ae(this,e),this.referenceDelegate=t,this.k=n}return Ce(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Ql(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return _o.fromTimestamp(new Ao(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Xl(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return uo(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Xl(e).jt((function(o,u){var s=_l(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return al.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Xl(e).jt((function(e,n){var r=_l(n);t(r)}))}},{key:"oe",value:function(e){return Jl(e).get(Yc.key).next((function(e){return uo(null!==e),e}))}},{key:"ce",value:function(e,t){return Jl(e).put(Yc.key,t)}},{key:"ae",value:function(e,t){return Xl(e).put(Cl(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=pu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xl(e).jt({range:r,index:Xc.queryTargetsIndexName},(function(e,n,r){var a=_l(n);vu(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Yl(e);return t.forEach((function(t){var o=Fc(t.path);i.push(a.put(new Jc(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),al.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Yl(e);return al.forEach(t,(function(t){var a=Fc(t.path);return al.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Yl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yl(e),i=Ks();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=jc(e[1]),a=new Go(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Fc(t.path),r=IDBKeyRange.bound([n],[Io(n)],!1,!0),i=0;return Yl(e).jt({index:Jc.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Xl(e).get(t).next((function(e){return e?_l(e):null}))}}]),e}();function Xl(e){return yl(e,Xc.store)}function Jl(e){return yl(e,Yc.store)}function Yl(e){return yl(e,Jc.store)}function Zl(e){return $l.apply(this,arguments)}function $l(){return $l=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===co.FAILED_PRECONDITION&&t.message===rl){e.next=2;break}throw t;case 2:no("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function ef(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=So(r,o);return 0===s?So(i,u):s}var tf=function(){function e(t){Ae(this,e),this.he=t,this.buffer=new Os(ef),this.le=0}return Ce(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ef(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),nf=function(){function e(t,n){Ae(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Ce(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;no("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,a(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ll(n.t0)){n.next=12;break}no("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Zl(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),rf=function(){function e(t,n){Ae(this,e),this.ge=t,this.params=n}return Ce(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return al.resolve(bo.I);var r=new tf(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(no("LruGarbageCollector","Garbage collection skipped; disabled"),al.resolve(Ul)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(no("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ul):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(no("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),to()<=et.DEBUG&&no("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),al.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),af=function(){function e(t,n){Ae(this,e),this.db=t,this.garbageCollector=function(e,t){return new rf(e,t)}(this,n)}return Ce(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return of(e,n)}},{key:"removeReference",value:function(e,t,n){return of(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return of(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Wl(e).Qt((function(r){return ql(e,r,t).next((function(e){return e&&(n=!0),al.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Yl(e).delete([0,Fc(o.path)])}))}));i.push(s)}})).next((function(){return al.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return of(e,t)}},{key:"Ie",value:function(e,t){var n,r=Yl(e),i=bo.I;return r.jt({index:Jc.documentTargetsIndex},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==bo.I&&t(new Go(jc(n)),i),i=s,n=u):i=bo.I})).next((function(){i!==bo.I&&t(new Go(jc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function of(e,t){return Yl(e).put(function(e,t){return new Jc(0,Fc(e.path),t)}(t,e.currentSequenceNumber))}var uf=function(){function e(t,n){Ae(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ce(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){No(this.inner,(function(t,n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Do(this.inner)}}]),e}(),sf=function(){function e(){Ae(this,e),this.changes=new uf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ce(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:_o.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:fu.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?al.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),cf=function(){function e(t,n){Ae(this,e),this.k=t,this.Jt=n}return Ce(e,[{key:"addEntry",value:function(e,t,n){return hf(e).put(df(t),n)}},{key:"removeEntry",value:function(e,t){var n=hf(e),r=df(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return hf(e).get(df(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return hf(e).get(df(t)).next((function(e){return{document:n.be(t,e),size:Bl(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Us();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Us(),i=new Ps(Go.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Bl(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return al.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return hf(e).jt({range:r},(function(e,t,r){for(var o=Go.fromSegments(e);a&&Go.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Us(),a=t.path.length+1,o={};if(n.isEqual(_o.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=xl(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Qc.collectionReadTimeIndex}return hf(e).jt(o,(function(e,n,o){if(e.length===a){var u=bl(r.k,n);t.path.isPrefixOf(u.key.path)?Wu(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new lf(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ff(e).get(Gc.key).next((function(e){return uo(!!e),e}))}},{key:"Re",value:function(e,t){return ff(e).put(Gc.key,t)}},{key:"be",value:function(e,t){if(t){var n=bl(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(_o.min()))return n}return fu.newInvalidDocument(e)}}]),e}(),lf=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new uf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Os((function(e,t){return So(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=El(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Bl(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=El(t.De.k,fu.newNoDocument(a,_o.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),al.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(sf);function ff(e){return yl(e,Gc.store)}function hf(e){return yl(e,Qc.store)}function df(e){return e.path.toArray()}var pf=function(){function e(t){Ae(this,e),this.k=t}return Ce(e,[{key:"Nt",value:function(e,t,n,r){var i=this;uo(n<r&&n>=0&&r<=11);var a=new ol("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bc.store)}(e),function(e){e.createObjectStore(zc.store,{keyPath:zc.keyPath}),e.createObjectStore(qc.store,{keyPath:qc.keyPath,autoIncrement:!0}).createIndex(qc.userMutationsIndex,qc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Kc.store)}(e),vf(e),function(e){e.createObjectStore(Qc.store)}(e));var o=al.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Jc.store),e.deleteObjectStore(Xc.store),e.deleteObjectStore(Yc.store)}(e),vf(e)),o=o.next((function(){return function(e){var t=e.store(Yc.store),n=new Yc(0,0,_o.min().toTimestamp(),0);return t.put(Yc.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(qc.store).Bt().next((function(n){e.deleteObjectStore(qc.store),e.createObjectStore(qc.store,{keyPath:qc.keyPath,autoIncrement:!0}).createIndex(qc.userMutationsIndex,qc.userMutationsKeyPath,{unique:!0});var r=t.store(qc.store),i=n.map((function(e){return r.put(e)}));return al.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore($c.store,{keyPath:$c.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Gc.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Qc.store);t.createIndex(Qc.readTimeIndex,Qc.readTimeIndexPath,{unique:!1}),t.createIndex(Qc.collectionReadTimeIndex,Qc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(el.store,{keyPath:el.keyPath})}(e),function(e){e.createObjectStore(tl.store,{keyPath:tl.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Qc.store).jt((function(e,n){t+=Bl(n)})).next((function(){var n=new Gc(t);return e.store(Gc.store).put(Gc.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(zc.store),r=e.store(qc.store);return n.Bt().next((function(n){return al.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(qc.userMutationsIndex,i).next((function(r){return al.forEach(r,(function(r){uo(r.userId===n.userId);var i=Al(t.k,r);return Vl(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Jc.store),n=e.store(Qc.store);return e.store(Yc.store).get(Yc.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Ro(n),o=function(e){return[0,Fc(e)]}(a);r.push(t.get(o).next((function(n){return n?al.resolve():function(n){return t.put(new Jc(0,Fc(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return al.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Zc.store,{keyPath:Zc.keyPath});var n=t.store(Zc.store),r=new Ol,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Fc(i)})}};return t.store(Qc.store).jt({Kt:!0},(function(e,t){var n=new Ro(e);return i(n.popLast())})).next((function(){return t.store(Kc.store).jt({Kt:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],jc(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Xc.store);return n.jt((function(e,r){var i=_l(r),a=Cl(t.k,i);return n.put(a)}))}}]),e}();function vf(e){e.createObjectStore(Jc.store,{keyPath:Jc.keyPath}).createIndex(Jc.documentTargetsIndex,Jc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Xc.store,{keyPath:Xc.keyPath}).createIndex(Xc.queryTargetsIndexName,Xc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yc.store)}var yf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mf=function(){function e(t,n,r,i,a,o,u,s,c,l){if(Ae(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=u,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new lo(co.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new af(this,i),this.Ge=n+"main",this.k=new wl(s),this.ze=new ul(this.Ge,11,new pf(this.k)),this.He=new Gl(this.referenceDelegate,this.k),this.Jt=new Fl,this.Je=function(e,t){return new cf(e,t)}(this.k,this.Jt),this.Ye=new Dl,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&ro("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ce(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new lo(co.FAILED_PRECONDITION,yf);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new bo(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=a(d().mark((function n(r){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=a(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kf(t).put(new $c(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(ll(t))return no("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return no("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return gf(e).get(Bc.key).next((function(e){return al.resolve(t.un(e))}))}},{key:"hn",value:function(e){return kf(e).delete(this.clientId)}},{key:"ln",value:function(){var e=a(d().mark((function e(){var t,n,r,i,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yl(e,$c.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return al.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=we(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?al.resolve(!0):gf(e).get(Bc.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new lo(co.FAILED_PRECONDITION,yf);return!1}}return!(!t.networkEnabled||!t.inForeground)||kf(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&no("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=a(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Bc.store,$c.store],(function(e){var n=new vl(e,bo.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kf(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return zl.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;no("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,nl,(function(a){return i=new vl(a,r.Be?r.Be.next():bo.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw ro("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new lo(co.FAILED_PRECONDITION,rl);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return gf(e).get(Bc.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new lo(co.FAILED_PRECONDITION,yf)}))}},{key:"an",value:function(e){var t=new Bc(this.clientId,this.allowTabSynchronization,Date.now());return gf(e).put(Bc.key,t)}},{key:"cn",value:function(e){var t=this,n=gf(e);return n.get(Bc.key).next((function(e){return t.un(e)?(no("IndexedDbPersistence","Releasing primary lease."),n.delete(Bc.key)):al.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ro("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),Ue()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return no("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ro("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Yt){ro("Failed to set zombie client id.",Yt)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Yt){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return ul.Pt()}}]),e}();function gf(e){return yl(e,Bc.store)}function kf(e){return yl(e,$c.store)}function wf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bf=Ce((function e(t,n){Ae(this,e),this.progress=t,this.In=n})),Ef=function(){function e(t,n,r){Ae(this,e),this.Je=t,this.An=n,this.Jt=r}return Ce(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=we(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=we(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):ju(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Go(t)).next((function(e){var t=Vs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Vs();return this.Jt.getCollectionParents(e,i).next((function(o){return al.forEach(o,(function(o){var u=function(e,t){return new Pu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=we(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=we(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=fu.newInvalidDocument(c),r=r.insert(c,l)),ys(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Wu(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Ks(),a=we(t);try{for(a.s();!(r=a.n()).done;){var o,u=we(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof bs&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),xf=function(){function e(t,n,r,i){Ae(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Ce(e,null,[{key:"$n",value:function(t,n){var r,i=Ks(),a=Ks(),o=we(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Sf=function(){function e(){Ae(this,e)}return Ce(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(_o.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Ou(t)||Fu(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(to()<=et.DEBUG&&no("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Hu(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Os(Qu(e));return t.forEach((function(t,r){Wu(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return to()<=et.DEBUG&&no("QueryEngine","Using full collection scan to execute query:",Hu(t)),this.Mn.getDocumentsMatchingQuery(e,t,_o.min())}}]),e}(),Tf=function(){function e(t,n,r,i){Ae(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Ps(So),this.Kn=new uf((function(e){return pu(e)}),vu),this.jn=_o.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Ef(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Ce(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function If(e,t,n,r){return new Tf(e,t,n,r)}function Af(e,t){return _f.apply(this,arguments)}function _f(){return _f=a(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Ef(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Ks(),s=we(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=we(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=we(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=we(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Cf(e,t){var n=so(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=al.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);uo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Nf(e){var t=so(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Df(e,t){var n=so(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Mo.EMPTY_BYTE_STRING,_o.min()).withLastLimboFreeSnapshotVersion(_o.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=Us();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Pf(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(_o.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return al.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function Pf(e,t,n,r,i){var a=Ks();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Us();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(_o.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):no("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function Rf(e,t){var n=so(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Lf(e,t){var n=so(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,al.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new kl(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Of(e,t,n){return Ff.apply(this,arguments)}function Ff(){return Ff=a(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=so(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ll(e.t1)){e.next=12;break}throw e.t1;case 12:no("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ff.apply(this,arguments)}function Mf(e,t,n){var r=so(e),i=_o.min(),a=Ks();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=so(e),i=r.Kn.get(n);return void 0!==i?al.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Bu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:_o.min(),n?a:Ks())})).next((function(e){return{documents:e,zn:a}}))}))}function Uf(e,t){var n=so(e),r=so(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function jf(e){var t=so(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=so(e),i=Us(),a=xl(n),o=hf(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Qc.readTimeIndex,range:u},(function(e,t){var n=bl(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Sl(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Vf(e){return Bf.apply(this,arguments)}function Bf(){return Bf=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=so(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=hf(e),n=_o.min();return t.jt({index:Qc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Sl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(e,t,n,r){return qf.apply(this,arguments)}function qf(){return qf=a(d().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=so(t),o=Ks(),u=Us(),s=zs(),c=we(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(d){c.e(d)}finally{c.f()}return p=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Lf(a,function(e){return Bu(Lu(Ro.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Pf(e,p,u,_o.min(),s).next((function(t){return p.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.He.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Kf(e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=a(d().mark((function e(t,n){var r,i,a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ks(),e.next=3,Lf(t,Bu(Nl(n.bundledQuery)));case 3:return i=e.sent,a=so(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=sc(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Mo.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}var Wf=function(){function e(t){Ae(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Ce(e,[{key:"getBundleMetadata",value:function(e,t){return al.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:sc(n.createTime)}),al.resolve()}},{key:"getNamedQuery",value:function(e,t){return al.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Nl(e.bundledQuery),readTime:sc(e.readTime)}}(t)),al.resolve()}}]),e}(),Qf=function(){function e(){Ae(this,e),this.ts=new Os(Gf.es),this.ns=new Os(Gf.ss)}return Ce(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Gf(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Gf(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Go(new Ro([])),r=new Gf(n,e),i=new Gf(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Go(new Ro([])),n=new Gf(t,e),r=new Gf(t,e+1),i=Ks();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Gf(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Gf=function(){function e(t,n){Ae(this,e),this.key=t,this.fs=n}return Ce(e,null,[{key:"es",value:function(e,t){return Go.comparator(e.key,t.key)||So(e.fs,t.fs)}},{key:"ss",value:function(e,t){return So(e.fs,t.fs)||Go.comparator(e.key,t.key)}}]),e}(),Xf=function(){function e(t,n){Ae(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Os(Gf.es)}return Ce(e,[{key:"checkEmpty",value:function(e){return al.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new ml(i,t,n,r);this.An.push(a);var o,u=we(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new Gf(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return al.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return al.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return al.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return al.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return al.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Gf(t,0),i=new Gf(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),al.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Os(So);return t.forEach((function(e){var t=new Gf(e,0),i=new Gf(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),al.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Go.isDocumentKey(i)||(i=i.child(""));var a=new Gf(new Go(i),0),o=new Os(So);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),al.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;uo(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return al.forEach(t.mutations,(function(i){var a=new Gf(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Gf(t,0),r=this.ws.firstAfterOrEqual(n);return al.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,al.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Jf=function(){function e(t,n){Ae(this,e),this.Jt=t,this.Ts=n,this.docs=new Ps(Go.comparator),this.size=0}return Ce(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return al.resolve(n?n.document.mutableCopy():fu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Us();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fu.newInvalidDocument(e))})),al.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Us(),i=new Go(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Wu(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return al.resolve(r)}},{key:"Es",value:function(e,t){return al.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Yf(this)}},{key:"getSize",value:function(e){return al.resolve(this.size)}}]),e}(),Yf=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).De=e,r}return Ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),al.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(sf),Zf=function(){function e(t){Ae(this,e),this.persistence=t,this.Is=new uf((function(e){return pu(e)}),vu),this.lastRemoteSnapshotVersion=_o.min(),this.highestTargetId=0,this.As=0,this.Rs=new Qf,this.targetCount=0,this.bs=Ql.ie()}return Ce(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),al.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return al.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return al.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),al.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),al.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,al.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),al.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,al.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),al.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return al.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return al.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),al.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),al.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),al.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return al.resolve(n)}},{key:"containsKey",value:function(e,t){return al.resolve(this.Rs.containsKey(t))}}]),e}(),$f=function(){function e(t,n){var r=this;Ae(this,e),this.Ps={},this.Be=new bo(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Zf(this),this.Jt=new Ll,this.Je=function(e,t){return new Jf(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new wl(n),this.Ye=new Wf(this.k)}return Ce(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Xf(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;no("MemoryPersistence","Starting transaction:",e);var i=new eh(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return al.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),eh=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ce(n)}(il),th=function(){function e(t){Ae(this,e),this.persistence=t,this.Cs=new Qf,this.Ns=null}return Ce(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw oo()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),al.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),al.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),al.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return al.forEach(this.xs,(function(r){var i=Go.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return al.or([function(){return al.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function nh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rh(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ih(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ah=function(){function e(t,n,r,i){Ae(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ce(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new lo(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ro("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),oh=function(){function e(t,n,r){Ae(this,e),this.targetId=t,this.state=n,this.error=r}return Ce(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new lo(i.error.code,i.error.message))),a?new e(t,i.state,r):(ro("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),uh=function(){function e(t,n){Ae(this,e),this.clientId=t,this.activeTargetIds=n}return Ce(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ws(),o=0;i&&o<r.activeTargetIds.length;++o)i=Qo(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ro("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),sh=function(){function e(t,n){Ae(this,e),this.clientId=t,this.onlineState=n}return Ce(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ro("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ch=function(){function e(){Ae(this,e),this.activeTargetIds=Ws()}return Ce(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),lh=function(){function e(t,n,r,i,a){Ae(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ps(So),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=nh(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new ch),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Ce(e,[{key:"start",value:function(){var e=a(d().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=we(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(nh(this.persistenceKey,i)))&&(o=uh.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=we(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ih(this.persistenceKey,e));if(n){var r=oh.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ih(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return no("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){no("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){no("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(no("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ro("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(a(d().mark((function e(){var r,i,a,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=bo.I;if(null!=e)try{var n=JSON.parse(e);uo("number"==typeof n),t=n}catch(e){ro("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==bo.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new ah(this.currentUser,e,t,n),i=rh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=rh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=ih(this.persistenceKey,e),i=new oh(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return uh.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ah.Os(new Za(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return oh.Os(r,t)}},{key:"Zs",value:function(e){return sh.Os(e)}},{key:"fi",value:function(){var e=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:no("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Ws();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),fh=function(){function e(){Ae(this,e),this.pi=new ch,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ce(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new ch,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),hh=function(){function e(){Ae(this,e)}return Ce(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),dh=function(){function e(){var t=this;Ae(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Ce(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){no("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=we(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){no("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=we(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ph={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},vh=function(){function e(t){Ae(this,e),this.Vi=t.Vi,this.Si=t.Si}return Ce(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),yh=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ce(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ja;o.listenOnce(Ha.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ka.NO_ERROR:var t=o.getResponseJson();no("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ka.TIMEOUT:no("Connection",'RPC "'+e+'" timed out'),a(new lo(co.DEADLINE_EXCEEDED,"Request time out"));break;case Ka.HTTP_ERROR:var n=o.getStatus();if(no("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(co).indexOf(t)>=0?t:co.UNKNOWN}(r.status);a(new lo(u,r.message))}else a(new lo(co.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new lo(co.UNAVAILABLE,"Connection failed."));break;default:oo()}}finally{no("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=za(),a=qa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ga({})),this.qi(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())||"object"===typeof navigator&&"ReactNative"===navigator.product||Me().indexOf("Electron/")>=0||function(){var e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Me().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");no("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new vh({Vi:function(e){l?no("Connection","Not sending because WebChannel is closed:",e):(c||(no("Connection","Opening WebChannel transport."),s.open(),c=!0),no("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Xa.EventType.OPEN,(function(){l||no("Connection","WebChannel transport opened.")})),h(s,Xa.EventType.CLOSE,(function(){l||(l=!0,no("Connection","WebChannel transport closed"),f.Oi())})),h(s,Xa.EventType.ERROR,(function(e){l||(l=!0,io("Connection","WebChannel transport errored:",e),f.Oi(new lo(co.UNAVAILABLE,"The operation could not be completed")))})),h(s,Xa.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];uo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){no("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ts[e];if(void 0!==t)return Ds(t)}(a),u=i.message;void 0===o&&(o=co.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new lo(o,u)),s.close()}else no("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Wa.STAT_EVENT,(function(e){e.stat===Qa.PROXY?no("Connection","Detected buffering proxy"):e.stat===Qa.NOPROXY&&no("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Ae(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ce(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);no("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return no("RestConnection","Received: ",e),e}),(function(t){throw io("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=ph[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function mh(){return"undefined"!=typeof window?window:null}function gh(){return"undefined"!=typeof document?document:null}function kh(e){return new ic(e,!0)}var wh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ae(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Ce(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&no("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),bh=function(){function e(t,n,r,i,a,o,u,s){Ae(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new wh(t,n)}return Ce(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=a(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===co.RESOURCE_EXHAUSTED?(ro(n.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===co.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new lo(co.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return no("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(no("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Eh=function(e){be(n,e);var t=Te(n);function n(e,r,i,a,o,u){var s;return Ae(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Ce(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:oo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(uo(void 0===t||"string"==typeof t),Mo.fromBase64String(t||"")):(uo(void 0===t||t instanceof Uint8Array),Mo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?co.UNKNOWN:Ds(e.code);return new lo(t,e.message||"")}(o);n=new Ys(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=hc(e,s.document.name),l=sc(s.document.updateTime),f=new cu({mapValue:{fields:s.document.fields}}),h=fu.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Xs(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=hc(e,v.document),m=v.readTime?sc(v.readTime):_o.min(),g=fu.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Xs([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=hc(e,w.document),E=w.removedTargetIds||[];n=new Xs([],E,b,null)}else{if(!("filter"in t))return oo();t.filter;var x=t.filter;x.targetId;var S=x.count||0,T=new Cs(S),I=x.targetId;n=new Js(I,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return _o.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_o.min():t.readTime?sc(t.readTime):_o.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=vc(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=yu(r)?{documents:Ec(e,r)}:{query:xc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oc(e,t.resumeToken):t.snapshotVersion.compareTo(_o.min())>0&&(n.readTime=ac(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=vc(this.k),t.removeTarget=e,this.gr(t)}}]),n}(bh),xh=function(e){be(n,e);var t=Te(n);function n(e,r,i,a,o,u){var s;return Ae(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Ce(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ke(me(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(uo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(uo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sc(e.updateTime):sc(t);return n.isEqual(_o.min())&&(n=sc(t)),new fs(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sc(e.commitTime);return this.listener.Cr(n,t)}return uo(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=vc(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wc(t.k,e)}))};this.gr(n)}}]),n}(bh),Sh=function(e){be(n,e);var t=Te(n);function n(e,r,i,a){var o;return Ae(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Ce(n,[{key:"Or",value:function(){if(this.$r)throw new lo(co.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===co.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lo(co.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===co.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lo(co.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Ce((function e(){Ae(this,e)}))}()),Th=function(){function e(t,n){Ae(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Ce(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(ro(t),this.Lr=!1):no("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Ih=Ce((function e(t,n,r,i,o){var u=this;Ae(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei((function(e){r.enqueueAndForget(a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Mh(u),!e.t0){e.next=5;break}return no("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=so(t)).Gr.add(4),e.next=4,Ch(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Ah(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Th(r,i)}));function Ah(e){return _h.apply(this,arguments)}function _h(){return _h=a(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mh(t)){e.next=18;break}n=we(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),_h.apply(this,arguments)}function Ch(e){return Nh.apply(this,arguments)}function Nh(){return Nh=a(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=we(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Nh.apply(this,arguments)}function Dh(e,t){var n=so(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Fh(n)?Oh(n):hd(n).lr()&&Rh(n,t))}function Ph(e,t){var n=so(e),r=hd(n);n.Wr.delete(t),r.lr()&&Lh(n,t),0===n.Wr.size&&(r.lr()?r._r():Mh(n)&&n.Jr.set("Unknown"))}function Rh(e,t){e.Yr.X(t.targetId),hd(e).Pr(t)}function Lh(e,t){e.Yr.X(t),hd(e).vr(t)}function Oh(e){e.Yr=new $s({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),hd(e).start(),e.Jr.Br()}function Fh(e){return Mh(e)&&!hd(e).hr()&&e.Wr.size>0}function Mh(e){return 0===so(e).Gr.size}function Uh(e){e.Yr=void 0}function jh(e){return Vh.apply(this,arguments)}function Vh(){return Vh=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Rh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function Bh(e,t){return zh.apply(this,arguments)}function zh(){return zh=a(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uh(t),Fh(t)?(t.Jr.Kr(n),Oh(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function qh(e,t,n){return Kh.apply(this,arguments)}function Kh(){return Kh=a(d().mark((function e(t,n,r){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Ys&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=we(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),no("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Hh(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xs?t.Yr.ot(n):n instanceof Js?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(_o.min())){e.next=29;break}return e.prev=14,e.next=17,Nf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Mo.EMPTY_BYTE_STRING,n.snapshotVersion)),Lh(e,t);var r=new kl(n.target,t,1,n.sequenceNumber);Rh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),no("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Hh(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Kh.apply(this,arguments)}function Hh(e,t,n){return Wh.apply(this,arguments)}function Wh(){return Wh=a(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ll(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Ch(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Nf(t.localStore)}),t.asyncQueue.enqueueRetryable(a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Ah(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Qh(e,t){return t().catch((function(n){return Hh(e,n,t)}))}function Gh(e){return Xh.apply(this,arguments)}function Xh(){return Xh=a(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=so(t),r=dd(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Jh(n)){e.next=19;break}return e.prev=3,e.next=6,Rf(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Yh(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Hh(n,e.t0);case 17:e.next=2;break;case 19:Zh(n)&&$h(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Xh.apply(this,arguments)}function Jh(e){return Mh(e)&&e.Qr.length<10}function Yh(e,t){e.Qr.push(t);var n=dd(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Zh(e){return Mh(e)&&!dd(e).hr()&&e.Qr.length>0}function $h(e){dd(e).start()}function ed(e){return td.apply(this,arguments)}function td(){return td=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dd(t).kr();case 1:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=a(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dd(t),r=we(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=a(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=gl.from(i,n,r),e.next=3,Qh(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Gh(t);case 5:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e,t){return ud.apply(this,arguments)}function ud(){return ud=a(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dd(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ns(i=n.code)||i===co.ABORTED){e.next=7;break}return r=t.Qr.shift(),dd(t).wr(),e.next=5,Qh(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Gh(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Zh(t)&&$h(t);case 5:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return cd=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=so(t)).asyncQueue.verifyOperationInProgress(),no("RemoteStore","RemoteStore received new credentials"),i=Mh(r),r.Gr.add(3),e.next=6,Ch(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Ah(r);case 12:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){return fd.apply(this,arguments)}function fd(){return fd=a(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=so(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Ah(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Ch(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e){return e.Xr||(e.Xr=function(e,t,n){var r=so(e);return r.Or(),new Eh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:jh.bind(null,e),Ni:Bh.bind(null,e),br:qh.bind(null,e)}),e.zr.push(function(){var t=a(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Fh(e)?Oh(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Uh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function dd(e){return e.Zr||(e.Zr=function(e,t,n){var r=so(e);return r.Or(),new xh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ed.bind(null,e),Ni:od.bind(null,e),Nr:nd.bind(null,e),Cr:id.bind(null,e)}),e.zr.push(function(){var t=a(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Gh(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(no("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var pd=function(){function e(t,n,r,i,a){Ae(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ce(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lo(co.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vd(e,t){if(ro("AsyncQueue","".concat(t,": ").concat(e)),ll(e))return new lo(co.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yd=function(){function e(t){Ae(this,e),this.comparator=t?function(e,n){return t(e,n)||Go.comparator(e.key,n.key)}:function(e,t){return Go.comparator(e.key,t.key)},this.keyedMap=Vs(),this.sortedSet=new Ps(this.comparator)}return Ce(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),md=function(){function e(){Ae(this,e),this.eo=new Ps(Go.comparator)}return Ce(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):oo():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gd=function(){function e(t,n,r,i,a,o,u,s){Ae(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ce(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,yd.emptySet(n),a,r,i,!0,!1)}}]),e}(),kd=Ce((function e(){Ae(this,e),this.so=void 0,this.listeners=[]})),wd=Ce((function e(){Ae(this,e),this.queries=new uf((function(e){return Ku(e)}),qu),this.onlineState="Unknown",this.io=new Set}));function bd(e,t){return Ed.apply(this,arguments)}function Ed(){return Ed=a(d().mark((function e(t,n){var r,i,a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=so(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=vd(e.t0,"Initialization of query '".concat(Hu(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Ad(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ed.apply(this,arguments)}function xd(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=a(d().mark((function e(t,n){var r,i,a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=so(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Td(e,t){var n,r=so(e),i=!1,a=we(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=we(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ad(r)}function Id(e,t,n){var r=so(e),i=r.queries.get(t);if(i){var a,o=we(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ad(e){e.io.forEach((function(e){e.next()}))}var _d=function(){function e(t,n,r){Ae(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Ce(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=we(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),Cd=function(){function e(t,n){Ae(this,e),this.payload=t,this.byteLength=n}return Ce(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Nd=function(){function e(t){Ae(this,e),this.k=t}return Ce(e,[{key:"Hn",value:function(e){return hc(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?gc(this.k,e.document,!1):fu.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return sc(e)}}]),e}(),Dd=function(){function e(t,n,r){Ae(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Pd(t)}return Ce(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Nd(this.k),i=we(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=we(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ks()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=a(d().mark((function e(){var t,n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zf(this.localStore,new Nd(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=we(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Kf(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new bf(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Rd=Ce((function e(t){Ae(this,e),this.key=t})),Ld=Ce((function e(t){Ae(this,e),this.key=t})),Od=function(){function e(t,n){Ae(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Ks(),this.mutatedKeys=Ks(),this.Ao=Qu(t),this.Ro=new yd(this.Ao)}return Ce(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new md,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ou(this.query)&&i.size===this.query.limit?i.last():null,c=Fu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ou(this.query)||Fu(this.query))for(;o.size>this.query.limit;){var l=Ou(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oo()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new gd(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new md,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Ks(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Ld(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Rd(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Ks();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return gd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Fd=Ce((function e(t,n,r){Ae(this,e),this.query=t,this.targetId=n,this.view=r})),Md=Ce((function e(t){Ae(this,e),this.key=t,this.$o=!1})),Ud=function(){function e(t,n,r,i,a,o){Ae(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new uf((function(e){return Ku(e)}),qu),this.Fo=new Map,this.Lo=new Set,this.Bo=new Ps(Go.comparator),this.Uo=new Map,this.qo=new Qf,this.Ko={},this.jo=new Map,this.Qo=Ql.re(),this.onlineState="Unknown",this.Wo=void 0}return Ce(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function jd(e,t){return Vd.apply(this,arguments)}function Vd(){return Vd=a(d().mark((function e(t,n){var r,i,a,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pp(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Lf(r.localStore,Bu(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Bd(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&Dh(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function Bd(e,t,n,r){return zd.apply(this,arguments)}function zd(){return zd=a(d().mark((function e(t,n,r,i){var o,u,s,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=a(d().mark((function e(t,n,r,i){var a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Mf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sp(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Mf(t.localStore,n,!0);case 3:return o=e.sent,u=new Od(n,o.zn),s=u.Po(o.documents),c=Gs.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=u.applyChanges(s,t.isPrimaryClient,c),sp(t,r,l.Co),f=new Fd(n,r,u),e.abrupt("return",(t.Mo.set(n,f),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function qd(e,t){return Kd.apply(this,arguments)}function Kd(){return Kd=a(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=so(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!qu(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Of(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ph(r.remoteStore,i.targetId),op(r,i.targetId)})).catch(Zl);case 9:e.next=14;break;case 11:return op(r,i.targetId),e.next=14,Of(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}function Hd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return Wd=a(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rp(t),e.prev=1,e.next=4,function(e,t){var n,r=so(e),i=Ao.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ks());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=we(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ms(c,n.get(c.key));null!=l&&u.push(new bs(c.key,l,lu(l.value.mapValue),hs.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Ps(So)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fp(i,a.changes);case 9:return e.next=11,Gh(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Wd.apply(this,arguments)}function Qd(e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.prev=1,e.next=4,Df(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(uo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?uo(n.$o):e.removedDocuments.size>0&&(uo(n.$o),n.$o=!1))})),e.next=8,fp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Gd.apply(this,arguments)}function Xd(e,t,n){var r=so(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=so(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=we(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ad(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jd(e,t,n){return Yd.apply(this,arguments)}function Yd(){return Yd=a(d().mark((function e(t,n,r){var i,a,o,u,s,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=so(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ps(Go.comparator)).insert(o,fu.newNoDocument(o,_o.min())),s=Ks().add(o),c=new Qs(_o.min(),new Map,new Os(So),u,s),e.next=9,Qd(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),lp(i),e.next=16;break;case 14:return e.next=16,Of(i.localStore,n,!1).then((function(){return op(i,n,r)})).catch(Zl);case 16:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function Zd(e,t){return $d.apply(this,arguments)}function $d(){return $d=a(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),i=n.batch.batchId,e.prev=1,e.next=4,Cf(r.localStore,n);case 4:return a=e.sent,ap(r,i,null),ip(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$d.apply(this,arguments)}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=a(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),e.prev=1,e.next=4,function(e,t){var n=so(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return uo(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ap(i,n,r),ip(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=a(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mh((r=so(t)).remoteStore)||no("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=so(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vd(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rp.apply(this,arguments)}function ip(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function ap(e,t,n){var r=so(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function op(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=we(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||up(e,t)}))}function up(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Ph(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),lp(e))}function sp(e,t,n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Rd?(e.qo.addReference(a.key,t),cp(e,a)):a instanceof Ld?(no("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||up(e,a.key)):oo()}}catch(o){i.e(o)}finally{i.f()}}function cp(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(no("SyncEngine","New document in limbo: "+n),e.Lo.add(r),lp(e))}function lp(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Go(Ro.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Md(n)),e.Bo=e.Bo.insert(n,r),Dh(e.remoteStore,new kl(Bu(Lu(n.path)),r,2,bo.I))}}function fp(e,t,n){return hp.apply(this,arguments)}function hp(){return hp=a(d().mark((function e(t,n,r){var i,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=so(t),o=[],u=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=xf.$n(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(o),e.next=9,function(){var e=a(d().mark((function e(t,n){var r,i,a,o,u,s,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return al.forEach(n,(function(t){return al.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return al.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ll(e.t0)){e.next=10;break}throw e.t0;case 10:no("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=we(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function dp(e,t){return pp.apply(this,arguments)}function pp(){return pp=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=so(t)).currentUser.isEqual(n)){e.next=11;break}return no("SyncEngine","User change. New user:",n.toKey()),e.next=5,Af(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new lo(co.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fp(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(e,t){var n=so(e),r=n.Uo.get(t);if(r&&r.$o)return Ks().add(r.key);var i=Ks(),a=n.Fo.get(t);if(!a)return i;var o,u=we(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Mo.get(s);i=i.unionWith(c.view.bo)}}catch(l){u.e(l)}finally{u.f()}return i}function yp(e,t){return mp.apply(this,arguments)}function mp(){return mp=a(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.next=3,Mf(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&sp(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function gp(e){return kp.apply(this,arguments)}function kp(){return kp=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=so(t),e.abrupt("return",jf(n.localStore).then((function(e){return fp(n,e)})));case 2:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function wp(e,t,n,r){return bp.apply(this,arguments)}function bp(){return bp=a(d().mark((function e(t,n,r,i){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=so(t),e.next=3,function(e,t){var n=so(e),r=so(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):al.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Gh(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ap(a,n,i||null),ip(a,n),function(e,t){so(so(e).An).ee(t)}(a.localStore,n)):oo();case 11:return e.next=13,fp(a,o);case 13:e.next=16;break;case 15:no("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function Ep(e,t){return xp.apply(this,arguments)}function xp(){return xp=a(d().mark((function e(t,n){var r,i,a,o,u,s,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pp(r=so(t)),Rp(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Sp(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,ld(r.remoteStore,!0);case 9:o=we(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Dh(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return op(r,t),Of(r.localStore,t,!0)})),Ph(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Sp(r,c);case 21:return function(e){var t=so(e);t.Uo.forEach((function(e,n){Ph(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Ps(Go.comparator)}(r),r.Wo=!1,e.next=25,ld(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),xp.apply(this,arguments)}function Sp(e,t,n){return Tp.apply(this,arguments)}function Tp(){return Tp=a(d().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,p,v,y,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=so(t),a=[],o=[],u=we(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,Lf(i.localStore,Bu(f[0]));case 11:l=e.sent,h=we(f),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,y=i.Mo.get(v),e.next=20,yp(i,y);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Uf(i.localStore,c);case 36:return g=e.sent,e.next=39,Lf(i.localStore,g);case 39:return l=e.sent,e.next=42,Bd(i,Ip(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Tp.apply(this,arguments)}function Ip(e){return Ru(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ap(e){var t=so(e);return so(so(t.localStore).persistence).Tn()}function _p(e,t,n,r){return Cp.apply(this,arguments)}function Cp(){return Cp=a(d().mark((function e(t,n,r,i){var a,o,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=so(t)).Wo){e.next=5;break}no("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,jf(a.localStore);case 11:return o=e.sent,u=Qs.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,fp(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Of(a.localStore,n,!0);case 18:return op(a,n,i),e.abrupt("break",21);case 20:oo();case 21:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Np(e,t,n){return Dp.apply(this,arguments)}function Dp(){return Dp=a(d().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Pp(t)).Wo){e.next=45;break}a=we(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return no("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Uf(i.localStore,u);case 12:return s=e.sent,e.next=15,Lf(i.localStore,s);case 15:return c=e.sent,e.next=18,Bd(i,Ip(s),c.targetId,!1);case 18:Dh(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=we(r),e.prev=30,h=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Of(i.localStore,t,!1).then((function(){Ph(i.remoteStore,t),op(i,t)})).catch(Zl);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Dp.apply(this,arguments)}function Pp(e){var t=so(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jd.bind(null,t),t.Oo.br=Td.bind(null,t.eventManager),t.Oo.zo=Id.bind(null,t.eventManager),t}function Rp(e){var t=so(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ep.bind(null,t),t}function Lp(e,t,n){var r=so(e);(function(){var e=a(d().mark((function e(t,n,r){var i,a,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=so(e),r=sc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Pd(i)),a=new Dd(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,fp(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=so(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),io("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Op=function(){function e(){Ae(this,e),this.synchronizeTabs=!1}return Ce(e,[{key:"initialize",value:function(){var e=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=kh(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return If(this.persistence,new Sf,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new $f(th.ks,this.k)}},{key:"Jo",value:function(e){return new fh}},{key:"terminate",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fp=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ce(n,[{key:"initialize",value:function(){var e=a(d().mark((function e(t){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(me(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Vf(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,Rp(this.tc.syncEngine);case 8:return e.next=10,Gh(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return If(this.persistence,new Sf,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new nf(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=wf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jl.withCacheSize(this.cacheSizeBytes):jl.DEFAULT;return new mf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mh(),gh(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new fh}}]),n}(Op),Mp=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ce(n,[{key:"initialize",value:function(){var e=a(d().mark((function e(t){var r,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(me(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof lh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:wp.bind(null,r),gi:_p.bind(null,r),yi:Np.bind(null,r),Tn:Ap.bind(null,r),_i:gp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ep(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=mh();if(!lh.Pt(t))throw new lo(co.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Fp),Up=function(){function e(){Ae(this,e)}return Ce(e,[{key:"initialize",value:function(){var e=a(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Xd(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dp.bind(null,this.syncEngine),e.next=12,ld(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new wd}},{key:"createDatastore",value:function(e){var t,n=kh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new yh(t));return function(e,t,n,r){return new Sh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Xd(o.syncEngine,e,0)},a=dh.Pt()?new dh:new hh,new Ih(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ud(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=so(t),no("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Ch(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function jp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return a(d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Vp=function(){function e(t){Ae(this,e),this.observer=t,this.muted=!1}return Ce(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Bp=function(){function e(t,n){var r=this;Ae(this,e),this.sc=t,this.k=n,this.metadata=new fo,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ce(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=a(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new Cd(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=a(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=a(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zp=function(){function e(t){Ae(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ce(e,[{key:"lookup",value:function(){var e=a(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new lo(co.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=a(d().mark((function e(t,n){var r,i,a,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),i=vc(r.k)+"/documents",a={documents:n.map((function(e){return fc(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=kc(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());uo(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new As(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=a(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Go.fromPath(t);n.mutations.push(new _s(r,n.precondition(r)))})),e.next=7,function(){var e=a(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),i=vc(r.k)+"/documents",a={writes:n.map((function(e){return wc(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw oo();t=_o.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lo(co.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hs.updateTime(t):hs.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_o.min()))throw new lo(co.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hs.updateTime(t)}return hs.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qp=function(){function e(t,n,r,i){Ae(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new wh(this.asyncQueue,"transaction_retry")}return Ce(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(a(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zp(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Ho(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ns(t)}return!1}}]),e}(),Kp=function(){function e(t,n,r,i){var o=this;Ae(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Za.UNAUTHENTICATED,this.clientId=xo.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return no("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return no("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return Ce(e,[{key:"getConfiguration",value:function(){var e=a(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lo(co.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Hp(e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),no("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Af(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Qp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=a(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Xp(t);case 3:return r=e.sent,no("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sd(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Xp(e){return Jp.apply(this,arguments)}function Jp(){return Jp=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return no("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Hp(t,new Op);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Yp(e){return Zp.apply(this,arguments)}function Zp(){return Zp=a(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return no("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Qp(t,new Up);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Zp.apply(this,arguments)}function $p(e){return Xp(e).then((function(e){return e.persistence}))}function ev(e){return Xp(e).then((function(e){return e.localStore}))}function tv(e){return Yp(e).then((function(e){return e.remoteStore}))}function nv(e){return Yp(e).then((function(e){return e.syncEngine}))}function rv(e){return iv.apply(this,arguments)}function iv(){return iv=a(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yp(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=jd.bind(null,n.syncEngine),r.onUnlisten=qd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vp({next:function(a){t.enqueueAndForget((function(){return xd(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new lo(co.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new lo(co.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new _d(Lu(n.path),a,{includeMetadataChanges:!0,wo:!0});return bd(e,o)},i.next=3,rv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ov(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vp({next:function(n){t.enqueueAndForget((function(){return xd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new lo(co.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _d(n,a,{includeMetadataChanges:!0,wo:!0});return bd(e,o)},i.next=3,rv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var uv=Ce((function e(t,n,r,i,a,o,u,s){Ae(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),sv=function(){function e(t,n){Ae(this,e),this.projectId=t,this.database=n||"(default)"}return Ce(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),cv=new Map;function lv(e,t,n){if(!n)throw new lo(co.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fv(e,t,n,r){if(!0===t&&!0===r)throw new lo(co.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function hv(e){if(!Go.isDocumentKey(e))throw new lo(co.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dv(e){if(Go.isDocumentKey(e))throw new lo(co.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":oo()}function vv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lo(co.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pv(e);throw new lo(co.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function yv(e,t){if(t<=0)throw new lo(co.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var mv=function(){function e(t){var n;if(Ae(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lo(co.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lo(co.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ce(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),gv=function(){function e(t,n,r){Ae(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,t instanceof sv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lo(co.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sv(e.options.projectId)}(t))}return Ce(e,[{key:"app",get:function(){if(!this._app)throw new lo(co.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lo(co.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new po;switch(e.type){case"gapi":var t=e.client;return uo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new go(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lo(co.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cv.get(e);t&&(no("ComponentProvider","Removing Datastore"),cv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function kv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=vv(e,gv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&io("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Za.MOCK_USER;else{o=Fe(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new lo(co.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Za(s)}e._authCredentials=new vo(new ho(o,u))}}var wv=function(){function e(t,n,r){Ae(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ce(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ev(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),bv=function(){function e(t,n,r){Ae(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ce(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ev=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this,e,r,Lu(i)))._path=i,a.type="collection",a}return Ce(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new wv(this.firestore,null,new Go(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(bv);function xv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xe(e),lv("collection","path",t),e instanceof gv){var a=Ro.fromString.apply(Ro,[t].concat(r));return dv(a),new Ev(e,null,a)}if(!(e instanceof wv||e instanceof Ev))throw new lo(co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ro.fromString.apply(Ro,[t].concat(r)));return dv(o),new Ev(e.firestore,null,o)}function Sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xe(e),1===arguments.length&&(t=xo.A()),lv("doc","path",t),e instanceof gv){var a=Ro.fromString.apply(Ro,[t].concat(r));return hv(a),new wv(e,null,new Go(a))}if(!(e instanceof wv||e instanceof Ev))throw new lo(co.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ro.fromString.apply(Ro,[t].concat(r)));return hv(o),new wv(e.firestore,e instanceof Ev?e.converter:null,new Go(o))}function Tv(e,t){return e=Xe(e),t=Xe(t),(e instanceof wv||e instanceof Ev)&&(t instanceof wv||t instanceof Ev)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Iv(e,t){return e=Xe(e),t=Xe(t),e instanceof bv&&t instanceof bv&&e.firestore===t.firestore&&qu(e._query,t._query)&&e.converter===t.converter}var Av=function(){function e(){var t=this;Ae(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new wh(this,"async_queue_retry"),this.bc=function(){var e=gh();e&&no("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=gh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Ce(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new fo;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=a(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ll(e.t0)){e.next=12;break}throw e.t0;case 12:no("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ro("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=pd.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&oo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=a(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=we(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=we(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function _v(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=we(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Cv=function(){function e(){Ae(this,e),this._progressObserver={},this._taskCompletionResolver=new fo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ce(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Nv=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Av,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ce(n,[{key:"_terminate",value:function(){return this._firestoreClient||Pv(this),this._firestoreClient.terminate()}}]),n}(gv);function Dv(e){return e._firestoreClient||Pv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Pv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new uv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Kp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Rv(e,t,n){var r=new fo;return e.asyncQueue.enqueue(a(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Hp(e,n);case 3:return i.next=5,Qp(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===co.FAILED_PRECONDITION||e.code===co.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Lv(e){return function(e){return e.asyncQueue.enqueue(a(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$p(e);case 2:return n=t.sent,t.next=5,tv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=so(e);return t.Gr.delete(0),Ah(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Dv(e=vv(e,Nv)))}function Ov(e){return function(e){return e.asyncQueue.enqueue(a(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$p(e);case 2:return n=t.sent,t.next=5,tv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=so(t)).Gr.add(0),e.next=4,Ch(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Dv(e=vv(e,Nv)))}function Fv(e,t){var n=Dv(e=vv(e,Nv)),r=new Cv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Bp(e,t)}(function(e,t){if(e instanceof Uint8Array)return jp(e,t);if(e instanceof ArrayBuffer)return jp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,kh(t));e.asyncQueue.enqueueAndForget(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Lp,t.next=3,nv(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Mv(e,t){return function(e,t){return e.asyncQueue.enqueue(a(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=so(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,ev(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Dv(e=vv(e,Nv)),t).then((function(t){return t?new bv(e,null,t.query):null}))}function Uv(e){if(e._initialized||e._terminated)throw new lo(co.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jv=function(){function e(){Ae(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lo(co.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oo(n)}return Ce(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Vv=function(){function e(t){Ae(this,e),this._byteString=t}return Ce(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mo.fromBase64String(t))}catch(t){throw new lo(co.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mo.fromUint8Array(t))}}]),e}(),Bv=Ce((function e(t){Ae(this,e),this._methodName=t})),zv=function(){function e(t,n){if(Ae(this,e),!isFinite(t)||t<-90||t>90)throw new lo(co.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lo(co.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ce(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return So(this._lat,e._lat)||So(this._long,e._long)}}]),e}(),qv=/^__.*__$/,Kv=function(){function e(t,n,r){Ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ce(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ws(e,this.data,t,this.fieldTransforms)}}]),e}(),Hv=function(){function e(t,n,r){Ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ce(e,[{key:"toMutation",value:function(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Wv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oo()}}var Qv=function(){function e(t,n,r,i,a,o){Ae(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ce(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return dy(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Wv(this.$c)&&qv.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),Gv=function(){function e(t,n,r){Ae(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||kh(t)}return Ce(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qv({$c:e,methodName:t,jc:n,path:Oo.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Xv(e){var t=e._freezeSettings(),n=kh(e._databaseId);return new Gv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);cy("Data must be an object, but it was:",o,r);var u,s,c=uy(r,o);if(a.merge)u=new Fo(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=we(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ly(t,d,n);if(!o.contains(p))throw new lo(co.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));py(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Fo(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Kv(new cu(c),u,s)}var Yv=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bv);function Zv(e,t,n){return new Qv({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var $v=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_toFieldTransform",value:function(e){return new ls(e.path,new ns)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Bv),ey=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e)).Wc=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=Zv(this,e,!0),n=this.Wc.map((function(e){return oy(e,t)})),r=new rs(n);return new ls(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bv),ty=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e)).Wc=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=Zv(this,e,!0),n=this.Wc.map((function(e){return oy(e,t)})),r=new as(n);return new ls(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bv),ny=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e)).Gc=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=new us(e.k,Yu(e.k,this.Gc));return new ls(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Bv);function ry(e,t,n,r){var i=e.Qc(1,t,n);cy("Data must be an object, but it was:",i,r);var a=[],o=cu.empty();No(r,(function(e,r){var u=hy(t,e,n);r=Xe(r);var s=i.Bc(u);if(r instanceof Yv)a.push(u);else{var c=oy(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Fo(a);return new Hv(o,u,i.fieldTransforms)}function iy(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[ly(t,r,n)],s=[i];if(a.length%2!=0)throw new lo(co.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ly(t,a[c])),s.push(a[c+1]);for(var l=[],f=cu.empty(),h=u.length-1;h>=0;--h)if(!py(l,u[h])){var d=u[h],p=s[h];p=Xe(p);var v=o.Bc(d);if(p instanceof Yv)l.push(d);else{var y=oy(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Fo(l);return new Hv(f,m,o.fieldTransforms)}function ay(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return oy(n,e.Qc(r?4:3,t))}function oy(e,t){if(sy(e=Xe(e)))return cy("Unsupported field value:",t,e),uy(e,t);if(e instanceof Bv)return function(e,t){if(!Wv(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=we(e);try{for(a.s();!(n=a.n()).done;){var o=oy(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Xe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yu(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ao.fromDate(e);return{timestampValue:ac(t.k,n)}}if(e instanceof Ao){var r=new Ao(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ac(t.k,r)}}if(e instanceof zv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vv)return{bytesValue:oc(t.k,e._byteString)};if(e instanceof wv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(pv(e)))}(e,t)}function uy(e,t){var n={};return Do(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):No(e,(function(e,r){var i=oy(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function sy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ao||e instanceof zv||e instanceof Vv||e instanceof wv||e instanceof Bv)}function cy(e,t,n){if(!sy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=pv(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function ly(e,t,n){if((t=Xe(t))instanceof jv)return t._internalPath;if("string"==typeof t)return hy(e,t);throw dy("Field path arguments must be of type string or ",e,!1,void 0,n)}var fy=new RegExp("[~\\*/\\[\\]]");function hy(e,t,n){if(t.search(fy)>=0)throw dy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ye(jv,Ie(t.split(".")))._internalPath}catch(r){throw dy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dy(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new lo(co.INVALID_ARGUMENT,u+e+s)}function py(e,t){return e.some((function(e){return e.isEqual(t)}))}var vy=function(){function e(t,n,r,i,a){Ae(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ce(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new wv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),yy=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(){return ke(me(n.prototype),"data",this).call(this)}}]),n}(vy);function my(e,t){return"string"==typeof t?hy(e,t):t instanceof jv?t._internalPath:t._delegate._internalPath}var gy=function(){function e(t,n){Ae(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ce(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ky=function(e){be(n,e);var t=Te(n);function n(e,r,i,a,o,u){var s;return Ae(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ce(n,[{key:"exists",value:function(){return ke(me(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(vy),wy=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ke(me(n.prototype),"data",this).call(this,e)}}]),n}(ky),by=function(){function e(t,n,r,i){Ae(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gy(i.hasPendingWrites,i.fromCache),this.query=r}return Ce(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wy(n._firestore,n._userDataWriter,r.key,r,new gy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lo(co.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new wy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ey(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ey(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oo()}}function xy(e,t){return e instanceof ky&&t instanceof ky?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof by&&t instanceof by&&e._firestore===t._firestore&&Iv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Sy(e){if(Fu(e)&&0===e.explicitOrderBy.length)throw new lo(co.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ty=Ce((function e(){Ae(this,e)}));function Iy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Ay=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Ce(n,[{key:"_apply",value:function(e){var t=Xv(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new lo(co.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Uy(o,a);var s,c=[],l=we(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(My(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=My(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Uy(o,a),u=ay(n,"where",o,"in"===a||"not-in"===a);var h=mu.create(i,a,u);return function(e,t){if(t.V()){var n=Uu(e);if(null!==n&&!n.isEqual(t.field))throw new lo(co.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Mu(e);null!==r&&jy(e,t.field,r)}var i=function(e,t){var n,r=we(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new lo(co.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lo(co.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new bv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ty);var _y=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Ce(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new lo(co.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lo(co.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _u(t,n);return function(e,t){if(null===Mu(e)){var n=Uu(e);null!==n&&jy(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new bv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Pu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ty);var Cy=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Ce(n,[{key:"_apply",value:function(e){return new bv(e.firestore,e.converter,zu(e._query,this.Xc,this.Zc))}}]),n}(Ty);var Ny=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ce(n,[{key:"_apply",value:function(e){var t=Fy(e,this.type,this.ta,this.ea);return new bv(e.firestore,e.converter,function(e,t){return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ty);function Dy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ny("startAt",t,!0)}function Py(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ny("startAfter",t,!1)}var Ry=function(e){be(n,e);var t=Te(n);function n(e,r,i){var a;return Ae(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Ce(n,[{key:"_apply",value:function(e){var t=Fy(e,this.type,this.ta,this.ea);return new bv(e.firestore,e.converter,function(e,t){return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ty);function Ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ry("endBefore",t,!0)}function Oy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ry("endAt",t,!1)}function Fy(e,t,n,r){if(n[0]=Xe(n[0]),n[0]instanceof vy)return function(e,t,n,r,i){if(!r)throw new lo(co.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=we(Vu(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(nu(t,r.key));else{var c=r.data.field(s.field);if(zo(c))throw new lo(co.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new lo(co.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Iu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Xv(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new lo(co.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new lo(co.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ju(e)&&-1!==c.indexOf("/"))throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ro.fromString(c));if(!Go.isDocumentKey(l))throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Go(l);u.push(nu(t,f))}else{var h=ay(n,r,c);u.push(h)}}return new Iu(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function My(e,t,n){if("string"==typeof(n=Xe(n))){if(""===n)throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ju(t)&&-1!==n.indexOf("/"))throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ro.fromString(n));if(!Go.isDocumentKey(r))throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return nu(e,new Go(r))}if(n instanceof wv)return nu(e,n._key);throw new lo(co.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pv(n),"."))}function Uy(e,t){if(!Array.isArray(e)||0===e.length)throw new lo(co.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new lo(co.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function jy(e,t,n){if(!n.isEqual(t))throw new lo(co.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Vy=function(){function e(){Ae(this,e)}return Ce(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw oo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return No(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new zv(Vo(e.latitude),Vo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=qo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jo(e);return new Ao(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ro.fromString(e);uo(Oc(n));var r=new sv(n.get(1),n.get(3)),i=new Go(n.popFirst(5));return r.isEqual(t)||ro("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function By(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var zy=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new Vv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wv(this.firestore,null,t)}}]),n}(Vy),qy=function(){function e(t,n){Ae(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xv(t)}return Ce(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Ky(e,this._firestore),i=By(r.converter,t,n),a=Jv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,hs.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Ky(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xe(t))||t instanceof jv?iy(this._dataReader,"WriteBatch.update",i._key,t,n,o):ry(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,hs.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Ky(e,this._firestore);return this._mutations=this._mutations.concat(new As(t._key,hs.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new lo(co.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Ky(e,t){if((e=Xe(e)).firestore!==t)throw new lo(co.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Hy=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new Vv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wv(this.firestore,null,t)}}]),n}(Vy);function Wy(e){e=vv(e,wv);var t=vv(e.firestore,Nv),n=Dv(t),r=new Hy(t);return function(e,t){var n=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=so(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new lo(co.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vd(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ev(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new ky(t,r,e._key,n,new gy(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Qy(e){e=vv(e,bv);var t=vv(e.firestore,Nv),n=Dv(t),r=new Hy(t);return function(e,t){var n=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(d().mark((function e(t,n,r){var i,a,o,u,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mf(t,n,!0);case 3:i=e.sent,a=new Od(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=vd(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ev(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new by(t,r,e,n)}))}function Gy(e,t,n){e=vv(e,wv);var r=vv(e.firestore,Nv),i=By(e.converter,t,n);return Zy(r,[Jv(Xv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hs.none())])}function Xy(e,t,n){e=vv(e,wv);for(var r=vv(e.firestore,Nv),i=Xv(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Zy(r,[("string"==typeof(t=Xe(t))||t instanceof jv?iy(i,"updateDoc",e._key,t,n,o):ry(i,"updateDoc",e._key,t)).toMutation(e._key,hs.exists(!0))])}function Jy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u;e=Xe(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||_v(n[c])||(s=n[c],c++);var l,f,h,p={includeMetadataChanges:s.includeMetadataChanges};if(_v(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[c+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof wv)f=vv(e.firestore,Nv),h=Lu(e._key.path),l={next:function(t){n[c]&&n[c]($y(f,e,t))},error:n[c+1],complete:n[c+2]};else{var y=vv(e,bv);f=vv(y.firestore,Nv),h=y._query;var m=new Hy(f);l={next:function(e){n[c]&&n[c](new by(f,m,y,e))},error:n[c+1],complete:n[c+2]},Sy(e._query)}return function(e,t,n,r){var i=new Vp(r),o=new _d(t,i,n);return e.asyncQueue.enqueueAndForget(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bd,t.next=3,rv(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xd,t.next=3,rv(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Dv(f),h,p,l)}function Yy(e,t){return function(e,t){var n=new Vp(t);return e.asyncQueue.enqueueAndForget(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){so(e).io.add(t),t.next()},t.next=3,rv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(a(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){so(e).io.delete(t)},t.next=3,rv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Dv(e=vv(e,Nv)),_v(t)?t:{next:t})}function Zy(e,t){return function(e,t){var n=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Hd,r.next=3,nv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Dv(e),t)}function $y(e,t,n){var r=n.docs.get(t._key),i=new Hy(e);return new ky(e,i,t._key,r,new gy(n.hasPendingWrites,n.fromCache),t.converter)}var em=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ce(n,[{key:"get",value:function(e){var t=this,r=Ky(e,this._firestore),i=new Hy(this._firestore);return ke(me(n.prototype),"get",this).call(this,e).then((function(e){return new ky(t._firestore,i,r._key,e._document,new gy(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ae(this,e),this._firestore=t,this._transaction=n,this._dataReader=Xv(t)}return Ce(e,[{key:"get",value:function(e){var t=this,n=Ky(e,this._firestore),r=new zy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return oo();var i=e[0];if(i.isFoundDocument())return new vy(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new vy(t._firestore,r,n._key,null,n.converter);throw oo()}))}},{key:"set",value:function(e,t,n){var r=Ky(e,this._firestore),i=By(r.converter,t,n),a=Jv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Ky(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xe(t))||t instanceof jv?iy(this._dataReader,"Transaction.update",i._key,t,n,o):ry(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Ky(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function tm(e,t){return function(e,t){var n=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Yp(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new qp(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Dv(e=vv(e,Nv)),(function(n){return t(new em(e,n))}))}function nm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ey("arrayUnion",t)}function rm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ty("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$a=e}(_t),wt(new Je("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Nv(i,new yo(e.getProvider("auth-internal")),new wo(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Lt(Ya,"3.4.4",e),Lt(Ya,"3.4.4","esm2017")}();var im=function(){return im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},im.apply(this,arguments)},am=function(e){return{loading:void 0===e||null===e,value:e}},om=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return im(im({},e),{error:t.error,loading:!1,value:void 0});case"reset":return am(t.defaultValue);case"value":return im(im({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),am(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},um=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},sm=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Iv(e,t);return n||r},cm=function(e,t){return um(e,sm,t)},lm=function(e,n){var r=null===n||void 0===n?void 0:n.snapshotOptions,i=function(e,n){var r=om(),i=r.error,a=r.loading,o=r.reset,u=r.setError,s=r.setValue,c=r.value,l=cm(e,o);(0,t.useEffect)((function(){if(l.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?Jy(l.current,n.snapshotListenOptions,s,u):Jy(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,i];return(0,t.useMemo)((function(){return f}),f)}(e,n),a=i[0],o=i[1],u=i[2],s=[fm(a,r),o,u,a];return(0,t.useMemo)((function(){return s}),s)},fm=function(e,n){return(0,t.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)}))}),[e,n])};var hm=function(e){return(0,ie.jsxs)("div",{className:"Score",children:[e.score.name," ",e.score.finalTime]})};var dm,pm=function(e){var t=e.usersRef.orderBy("finalTime").limit(10),n=f(lm(t),1)[0];return(0,ie.jsxs)("div",{className:"HighScore",children:[(0,ie.jsx)("h1",{children:"Highest Scorers"}),n&&n.map((function(e){return(0,ie.jsx)(hm,{score:e},e.userId)}))]})},vm=n(666),ym=n.n(vm),mm=function(){function e(t,n){var r=this;Ae(this,e),this._delegate=t,this.firebase=n,gt(t,new Je("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Pt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){gt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){kt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gm=(o(dm={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),o(dm,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),dm),km=new Ve("app-compat","Firebase",gm);var wm=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ct(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qe(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Lt,setLogLevel:Ft,onLog:Ot,apps:null,SDK_VERSION:_t,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(wt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw km.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Le(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qe(n,e=e||pt))throw km.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(mm);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Le(n,e)},createSubscribe:We,ErrorFactory:Ve,deepExtend:Le}),n}(),bm=new ct("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bm.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Em=self.firebase.SDK_VERSION;Em&&Em.indexOf("LITE")>=0&&bm.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xm=wm;!function(e){Lt("@firebase/app-compat","0.1.17",e)}();xm.registerVersion("firebase","9.6.6","app-compat");function Sm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Tm(){if("undefined"===typeof Uint8Array)throw new lo("unimplemented","Uint8Arrays are not available in this environment.")}function Im(){if("undefined"==typeof atob)throw new lo("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Am=function(){function e(t){Ae(this,e),this._delegate=t}return Ce(e,[{key:"toBase64",value:function(){return Im(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Tm(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Im(),new e(Vv.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Tm(),new e(Vv.fromUint8Array(t))}}]),e}();function _m(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=we(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Cm=function(){function e(){Ae(this,e)}return Ce(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Uv(e=vv(e,Nv));var n=Dv(e),r=e._freezeSettings(),i=new Up;return Rv(n,i,new Fp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Uv(e=vv(e,Nv));var t=Dv(e),n=e._freezeSettings(),r=new Up;return Rv(t,r,new Mp(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new lo(co.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new fo;return e._queue.enqueueAndForgetEvenWhileRestricted(a(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ul.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ul.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Nm=function(){function e(t,n,r){var i=this;Ae(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof sv||(this._appCompat=t)}return Ce(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||io("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Lv(this._delegate)}},{key:"disableNetwork",value:function(){return Ov(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&fv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new fo;return e.asyncQueue.enqueueAndForget(a(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=np,n.next=3,nv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Dv(e=vv(e,Nv)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Yy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new lo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Km(this,xv(this._delegate,e))}catch(t){throw Fm(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Om(this,Sv(this._delegate,e))}catch(t){throw Fm(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Bm(this,function(e,t){if(e=vv(e,gv),lv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lo(co.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new bv(e,null,function(e){return new Pu(Ro.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Fm(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return tm(this._delegate,(function(n){return e(new Pm(t,n))}))}},{key:"batch",value:function(){var e=this;return Dv(this._delegate),new Rm(new qy(this._delegate,(function(t){return Zy(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Fv(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Mv(this._delegate,e).then((function(e){return e?new Bm(t,e):null}))}}]),e}(),Dm=function(e){be(n,e);var t=Te(n);function n(e){var r;return Ae(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new Am(new Vv(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Om.forKey(t,this.firestore,null)}}]),n}(Vy);var Pm=function(){function e(t,n){Ae(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Dm(t)}return Ce(e,[{key:"get",value:function(e){var t=this,n=Hm(e);return this._delegate.get(n).then((function(e){return new jm(t._firestore,new ky(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Hm(e);return n?(Sm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Hm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Hm(e);return this._delegate.delete(t),this}}]),e}(),Rm=function(){function e(t){Ae(this,e),this._delegate=t}return Ce(e,[{key:"set",value:function(e,t,n){var r=Hm(e);return n?(Sm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Hm(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Hm(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Lm=function(){function e(t,n,r){Ae(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ce(e,[{key:"fromFirestore",value:function(e,t){var n=new wy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vm(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Dm(t),n),i.set(n,a)),a}}]),e}();Lm.INSTANCES=new WeakMap;var Om=function(){function e(t,n){Ae(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dm(t)}return Ce(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Km(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Km(this.firestore,xv(this._delegate,e))}catch(t){throw Fm(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Xe(e))instanceof wv&&Tv(this._delegate,e)}},{key:"set",value:function(e,t){t=Sm("DocumentReference.set",t);try{return t?Gy(this._delegate,e,t):Gy(this._delegate,e)}catch(n){throw Fm(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Xy(this._delegate,e):Xy.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Fm(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Zy(vv(e.firestore,Nv),[new As(e._key,hs.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Mm(n),a=Um(n,(function(t){return new jm(e.firestore,new ky(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Jy(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Wy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=vv(e,wv);var t=vv(e.firestore,Nv);return av(Dv(t),e._key,{source:"server"}).then((function(n){return $y(t,e,n)}))}(this._delegate):function(e){e=vv(e,wv);var t=vv(e.firestore,Nv);return av(Dv(t),e._key).then((function(n){return $y(t,e,n)}))}(this._delegate),t.then((function(e){return new jm(n.firestore,new ky(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Lm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new lo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new wv(n._delegate,r,new Go(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new wv(n._delegate,r,t))}}]),e}();function Fm(e,t,n){return e.message=e.message.replace(t,n),e}function Mm(e){var t,n=we(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!_m(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Um(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_m(e[0])?e[0]:_m(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jm=function(){function e(t,n){Ae(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"ref",get:function(){return new Om(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return xy(this._delegate,e._delegate)}}]),e}(),Vm=function(e){be(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||oo()}(void 0!==t),t}}]),n}(jm),Bm=function(){function e(t,n){Ae(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dm(t)}return Ce(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Iy(this._delegate,function(e,t,n){var r=t,i=my("where",e);return new Ay(i,r,n)}(t,n,r)))}catch(i){throw Fm(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Iy(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=my("orderBy",e);return new _y(n,t)}(t,n)))}catch(r){throw Fm(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Iy(this._delegate,function(e){return yv("limit",e),new Cy("limit",e,"F")}(t)))}catch(n){throw Fm(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Iy(this._delegate,function(e){return yv("limitToLast",e),new Cy("limitToLast",e,"L")}(t)))}catch(n){throw Fm(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Iy(this._delegate,Dy.apply(void 0,arguments)))}catch(t){throw Fm(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Iy(this._delegate,Py.apply(void 0,arguments)))}catch(t){throw Fm(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Iy(this._delegate,Ly.apply(void 0,arguments)))}catch(t){throw Fm(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Iy(this._delegate,Oy.apply(void 0,arguments)))}catch(t){throw Fm(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Iv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Qy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=vv(e,bv);var t=vv(e.firestore,Nv),n=Dv(t),r=new Hy(t);return ov(n,e._query,{source:"server"}).then((function(n){return new by(t,r,e,n)}))}(this._delegate):function(e){e=vv(e,bv);var t=vv(e.firestore,Nv),n=Dv(t),r=new Hy(t);return Sy(e._query),ov(n,e._query).then((function(n){return new by(t,r,e,n)}))}(this._delegate),t.then((function(e){return new qm(n.firestore,new by(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Mm(n),a=Um(n,(function(t){return new qm(e.firestore,new by(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Jy(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Lm.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zm=function(){function e(t,n){Ae(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Vm(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),qm=function(){function e(t,n){Ae(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"query",get:function(){return new Bm(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Vm(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zm(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Vm(n._firestore,r))}))}},{key:"isEqual",value:function(e){return xy(this._delegate,e._delegate)}}]),e}(),Km=function(e){be(n,e);var t=Te(n);function n(e,r){var i;return Ae(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ce(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Om(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Om(this.firestore,void 0===e?Sv(this._delegate):Sv(this._delegate,e))}catch(t){throw Fm(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=vv(e.firestore,Nv),r=Sv(e),i=By(e.converter,t);return Zy(n,[Jv(Xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hs.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Om(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Tv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Lm.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Bm);function Hm(e){return vv(e,wv)}var Wm,Qm=function(){function e(){Ae(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ye(jv,n)}return Ce(e,[{key:"isEqual",value:function(e){return(e=Xe(e))instanceof jv&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Oo.keyField().canonicalString())}}]),e}(),Gm=function(){function e(t){Ae(this,e),this._delegate=t}return Ce(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new $v("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Yv("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=nm.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=rm.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ny("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Xm={Firestore:Nm,GeoPoint:zv,Timestamp:Ao,Blob:Am,Transaction:Pm,WriteBatch:Rm,DocumentReference:Om,DocumentSnapshot:jm,Query:Bm,QueryDocumentSnapshot:Vm,QuerySnapshot:qm,CollectionReference:Km,FieldPath:Qm,FieldValue:Gm,setLogLevel:function(e){!function(e){eo.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Je("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Xm)))})(Wm=xm,(function(e,t){return new Nm(e,t,new Cm)})),Wm.registerVersion("@firebase/firestore-compat","0.1.13"),xm.initializeApp({apiKey:"AIzaSyAjLHsBDBkiC4NZOYX-Y2_CT97Job5gukM",authDomain:"wheres-waldo-5b7ce.firebaseapp.com",projectId:"wheres-waldo-5b7ce",storageBucket:"wheres-waldo-5b7ce.appspot.com",messagingSenderId:"416756930860",appId:"1:416756930860:web:d19c7256bf30c427e3b489"});var Jm=xm.firestore(),Ym={Waldo:!0,Wizard:!0,Odlaw:!0},Zm=function(){var e=f((0,t.useState)(g("charStates",Ym)),2),n=e[0],r=e[1];(0,t.useEffect)((function(){var e=s({},n);sessionStorage.setItem("charStates",JSON.stringify(e))}));var i=f((0,t.useState)(parseInt(g("clock",0))),2),o=i[0],u=i[1];(0,t.useEffect)((function(){var e=setInterval((function(){u((function(e){return e+1}))}),1e3);return function(){clearInterval(e),sessionStorage.setItem("clock",JSON.stringify(o))}}),[o]);var c=f((0,t.useState)(g("userId",ym()())),2),l=c[0],h=(c[1],f((0,t.useState)(!1),2)),p=h[0],v=h[1],y=Jm.collection("users"),m=function(){var e=!0;for(var t in n)!0===n[t]&&(e=!1);v(e)};function g(e,t){var n=sessionStorage.getItem(e);return n?JSON.parse(n):t}(0,t.useEffect)((function(){m()}));var k=function(){var e=a(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o,e.next=3,y.add({userId:l,name:t,finalTime:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ie.jsxs)(te,{basename:"/wheres-waldo",children:[(0,ie.jsx)(ae,{gameOver:p,time:o,getSessionStorage:g}),(0,ie.jsx)(ce,{menuItemActive:n}),(0,ie.jsxs)(N,{children:[(0,ie.jsx)(_,{path:"/",element:(0,ie.jsx)(de,{addScoreToDb:k,gameOver:p,menuItemActive:n,updateMenuItem:function(e){var t=s({},n);t[e.target.innerText]=!1,r(t)},checkIfFinished:m,time:o})}),(0,ie.jsx)(_,{path:"/highscores",element:(0,ie.jsx)(pm,{usersRef:y})})]})]})};r.render((0,ie.jsx)(t.StrictMode,{children:(0,ie.jsx)(Zm,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.0edde887.js.map